<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpackæœ¬è´¨ | é¢è¯•æŒ‡å—</title>
    <meta name="description" content="å‰ç«¯é¢è¯•æŒ‡å—ï¼Œå‰ç«¯é¢è¯•é¢˜æ•´ç†ï¼ŒæŒ‰æ¨¡å—åˆ†ç±»æ•´ç†æ€»ç»“ï¼Œæ‰“é€ æœ€å…¨é¢çš„å‰ç«¯é¢è¯•é¢˜">
    <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="apple-mobile-web-app-status-bar-style">

    <link rel="preload" href="/assets/css/0.styles.9ad7bc48.css" as="style"><link rel="preload" href="/assets/js/app.f60bfc34.js" as="script"><link rel="preload" href="/assets/js/6.7f8a8777.js" as="script"><link rel="preload" href="/assets/js/3.9d86cf58.js" as="script"><link rel="preload" href="/assets/js/113.6c12e76f.js" as="script"><link rel="preload" href="/assets/js/11.fb060006.js" as="script"><link rel="prefetch" href="/assets/js/1.9e1b498f.js"><link rel="prefetch" href="/assets/js/10.fbc04ea9.js"><link rel="prefetch" href="/assets/js/100.c06a0f53.js"><link rel="prefetch" href="/assets/js/101.54402ede.js"><link rel="prefetch" href="/assets/js/102.d3860a7d.js"><link rel="prefetch" href="/assets/js/103.51a83ab2.js"><link rel="prefetch" href="/assets/js/104.4107118f.js"><link rel="prefetch" href="/assets/js/105.aada2418.js"><link rel="prefetch" href="/assets/js/106.4ce7d3b7.js"><link rel="prefetch" href="/assets/js/107.ca87a327.js"><link rel="prefetch" href="/assets/js/108.df939701.js"><link rel="prefetch" href="/assets/js/109.9f0c8605.js"><link rel="prefetch" href="/assets/js/110.016c3eb7.js"><link rel="prefetch" href="/assets/js/111.ff5dbcc4.js"><link rel="prefetch" href="/assets/js/112.ab20caec.js"><link rel="prefetch" href="/assets/js/114.48e1a019.js"><link rel="prefetch" href="/assets/js/115.f291caf1.js"><link rel="prefetch" href="/assets/js/116.0188d28e.js"><link rel="prefetch" href="/assets/js/117.9b579bae.js"><link rel="prefetch" href="/assets/js/118.89da516f.js"><link rel="prefetch" href="/assets/js/119.c70b5105.js"><link rel="prefetch" href="/assets/js/12.9774db85.js"><link rel="prefetch" href="/assets/js/120.fcf3186f.js"><link rel="prefetch" href="/assets/js/13.ac14541c.js"><link rel="prefetch" href="/assets/js/14.155007f0.js"><link rel="prefetch" href="/assets/js/15.2d9ec2b2.js"><link rel="prefetch" href="/assets/js/16.aec442e8.js"><link rel="prefetch" href="/assets/js/17.59c81a6b.js"><link rel="prefetch" href="/assets/js/18.c38ff446.js"><link rel="prefetch" href="/assets/js/19.8203bd99.js"><link rel="prefetch" href="/assets/js/20.103004c4.js"><link rel="prefetch" href="/assets/js/21.1e6e08c9.js"><link rel="prefetch" href="/assets/js/22.5abbfd40.js"><link rel="prefetch" href="/assets/js/23.4cd5fd4d.js"><link rel="prefetch" href="/assets/js/24.602403ee.js"><link rel="prefetch" href="/assets/js/25.da971f83.js"><link rel="prefetch" href="/assets/js/26.43589785.js"><link rel="prefetch" href="/assets/js/27.6d18f825.js"><link rel="prefetch" href="/assets/js/28.843b905f.js"><link rel="prefetch" href="/assets/js/29.81e33cc0.js"><link rel="prefetch" href="/assets/js/30.7a4491ed.js"><link rel="prefetch" href="/assets/js/31.4275e9d2.js"><link rel="prefetch" href="/assets/js/32.6e6c282b.js"><link rel="prefetch" href="/assets/js/33.35641348.js"><link rel="prefetch" href="/assets/js/34.7737e542.js"><link rel="prefetch" href="/assets/js/35.3d539e4d.js"><link rel="prefetch" href="/assets/js/36.78f70288.js"><link rel="prefetch" href="/assets/js/37.ed0997e2.js"><link rel="prefetch" href="/assets/js/38.6d35141d.js"><link rel="prefetch" href="/assets/js/39.3b4241bb.js"><link rel="prefetch" href="/assets/js/4.cda2fc13.js"><link rel="prefetch" href="/assets/js/40.dd7b6d84.js"><link rel="prefetch" href="/assets/js/41.05fcd6ed.js"><link rel="prefetch" href="/assets/js/42.24fc3ac4.js"><link rel="prefetch" href="/assets/js/43.27b59a40.js"><link rel="prefetch" href="/assets/js/44.ac552dd9.js"><link rel="prefetch" href="/assets/js/45.6b1e07c4.js"><link rel="prefetch" href="/assets/js/46.8bf4b340.js"><link rel="prefetch" href="/assets/js/47.57a13e6c.js"><link rel="prefetch" href="/assets/js/48.8ef881a7.js"><link rel="prefetch" href="/assets/js/49.b76df872.js"><link rel="prefetch" href="/assets/js/5.eb1f29dc.js"><link rel="prefetch" href="/assets/js/50.f04492e5.js"><link rel="prefetch" href="/assets/js/51.e000ebea.js"><link rel="prefetch" href="/assets/js/52.bfbd5e6e.js"><link rel="prefetch" href="/assets/js/53.fc0a60dd.js"><link rel="prefetch" href="/assets/js/54.a798cd42.js"><link rel="prefetch" href="/assets/js/55.5ccb6ae1.js"><link rel="prefetch" href="/assets/js/56.1605b000.js"><link rel="prefetch" href="/assets/js/57.79350f4e.js"><link rel="prefetch" href="/assets/js/58.dcff3859.js"><link rel="prefetch" href="/assets/js/59.a366020b.js"><link rel="prefetch" href="/assets/js/60.2c42a67f.js"><link rel="prefetch" href="/assets/js/61.4d471001.js"><link rel="prefetch" href="/assets/js/62.07f7a685.js"><link rel="prefetch" href="/assets/js/63.3774b497.js"><link rel="prefetch" href="/assets/js/64.d8437f45.js"><link rel="prefetch" href="/assets/js/65.eaf10ccb.js"><link rel="prefetch" href="/assets/js/66.74665605.js"><link rel="prefetch" href="/assets/js/67.072c35ca.js"><link rel="prefetch" href="/assets/js/68.764ab8cb.js"><link rel="prefetch" href="/assets/js/69.6a27592a.js"><link rel="prefetch" href="/assets/js/7.9a5c64fa.js"><link rel="prefetch" href="/assets/js/70.2e7f3527.js"><link rel="prefetch" href="/assets/js/71.c6365fbe.js"><link rel="prefetch" href="/assets/js/72.15cfe1be.js"><link rel="prefetch" href="/assets/js/73.d56ee920.js"><link rel="prefetch" href="/assets/js/74.f848ccac.js"><link rel="prefetch" href="/assets/js/75.905f5556.js"><link rel="prefetch" href="/assets/js/76.49d98a04.js"><link rel="prefetch" href="/assets/js/77.4b62003f.js"><link rel="prefetch" href="/assets/js/78.5a4046ff.js"><link rel="prefetch" href="/assets/js/79.eb3ec067.js"><link rel="prefetch" href="/assets/js/8.bccf8145.js"><link rel="prefetch" href="/assets/js/80.c8247597.js"><link rel="prefetch" href="/assets/js/81.69952221.js"><link rel="prefetch" href="/assets/js/82.4439fbe3.js"><link rel="prefetch" href="/assets/js/83.df1321d3.js"><link rel="prefetch" href="/assets/js/84.23d01b47.js"><link rel="prefetch" href="/assets/js/85.c983047a.js"><link rel="prefetch" href="/assets/js/86.29b0f2d4.js"><link rel="prefetch" href="/assets/js/87.12e2e192.js"><link rel="prefetch" href="/assets/js/88.fb19aa58.js"><link rel="prefetch" href="/assets/js/89.ee2be7d8.js"><link rel="prefetch" href="/assets/js/9.ce1180ae.js"><link rel="prefetch" href="/assets/js/90.479f4d9d.js"><link rel="prefetch" href="/assets/js/91.619e0c8d.js"><link rel="prefetch" href="/assets/js/92.ae858703.js"><link rel="prefetch" href="/assets/js/93.f90a7ae1.js"><link rel="prefetch" href="/assets/js/94.8894adb4.js"><link rel="prefetch" href="/assets/js/95.683396f3.js"><link rel="prefetch" href="/assets/js/96.f65dc164.js"><link rel="prefetch" href="/assets/js/97.75bd77e0.js"><link rel="prefetch" href="/assets/js/98.892b530a.js"><link rel="prefetch" href="/assets/js/99.7d033614.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9ad7bc48.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="é¢è¯•æŒ‡å—" class="logo">  </a> <div class="links" style="background: rgb(255, 255, 255); max-width: 1297px;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value="" class="" placeholder=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div><a href="/docs/base.html" class="nav-link">åŸºç¡€
      </a></div></div><div class="nav-item"><div><a href="/docs/simply.html" class="nav-link">âœ¨è¿›é˜¶
      </a></div></div><div class="nav-item"><div><a href="/excellent-docs/1-HTMLæ¨¡å—.html" class="nav-link">ğŸ‘ç²¾é€‰
      </a></div></div><div class="nav-item"><div><a href="/docs/excellent.html" class="nav-link">ğŸ”¥é«˜é¢‘
      </a></div></div><div class="nav-item"><div><a href="/docs/guide.html" class="nav-link">æŒ‡å—
      </a></div></div><div class="nav-item"><div><a href="/docs/performance.html" class="nav-link">æ€§èƒ½
      </a></div></div><div class="nav-item"><div><a href="/docs/detail-expain.html" class="nav-link">ç»¼åˆ
      </a></div></div><div class="nav-item"><div><a href="/principle-docs/comprehensive/01-è™šæ‹ŸDOMåŸç†åˆ†æ.html" class="nav-link">åŸç†
      </a></div></div><div class="nav-item"><div><a href="/docs/handwritten.html" class="nav-link">æ‰‹å†™
      </a></div></div><div class="nav-item"><div><a href="/qa/1-å‰ç«¯100é¢˜è‡ªæ£€.html" class="nav-link">è‡ªæ£€
      </a></div></div><div class="nav-item"><div><a href="/interview-exp/å‰ç«¯é¢ç»æ±‡æ€».html" class="nav-link">â­é¢ç»
      </a></div></div><div class="nav-item"><div><a href="/days/æ¯æ—¥ä¸€é¢˜.html" class="nav-link">ğŸ’¥æ¯æ—¥ä¸€é¢˜
      </a></div></div><div class="nav-item"><div><a href="/docs/design-pattern.html" class="nav-link">è®¾è®¡æ¨¡å¼
      </a></div></div><div class="nav-item"><div><a href="/algorithm-interview/note/01-å¿«é€Ÿä¸Šæ‰‹â€”â€”ä»0åˆ°1æŒæ¡ç®—æ³•é¢è¯•éœ€è¦çš„æ•°æ®ç»“æ„ï¼ˆä¸€ï¼‰.html" class="nav-link">
      </a></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ‹“å±•é˜…è¯»" class="dropdown-title"><span class="title">æ‹“å±•é˜…è¯»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display: none;"><li class="dropdown-subitem"><div><a href="https://blog.poetries.top/browser-working-principle/guide/part1/lesson01.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        æµè§ˆå™¨åŸç†
        HTTPåŸºç¡€
      </div></a></div></li><li class="dropdown-subitem"><div><a href="/docs/webpack.html" class="nav-link">webpack
      </a></div></li><li class="dropdown-subitem"><div><a href="/docs/npm-script.html" class="nav-link">npmå·¥ä½œæµ
      </a></div></li><li class="dropdown-subitem"><div><a href="/docs/canvas.html" class="nav-link">Canvas
      </a></div></li><li class="dropdown-subitem"><div><a href="/docs/Taro.html" class="nav-link">TaroåŸç†
      </a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-nodejs-docs/nodejs-docs/base/01-ç¯å¢ƒæ­å»º.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        Nodeå­¦ä¹ æŒ‡å—
      </div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-vue-docs/vue-analysis/prepare/" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        Vueæºç åˆ†æ
      </div></a></div></li></ul></li><li class="dropdown-item"><h4>å…¶ä»–</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-blog-docs/blog-docs/javascript/-Ajaxæ€»ç»“ç¯‡.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        æ—¥å¸¸ç§¯ç´¯
      </div></a></div></li><li class="dropdown-subitem"><div><a href="http://blog.poetries.top/archives/" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        åšæ–‡
      </div></a></div></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->   <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/principle-docs/vue/01-ä»æºç è§£è¯»Vueç”Ÿå‘½å‘¨æœŸ.html" class="sidebar-link">ä»æºç è§£è¯»Vueç”Ÿå‘½å‘¨æœŸ</a></li><li><a href="/principle-docs/vue/02-ç»„ä»¶çš„æœ¬è´¨.html" class="sidebar-link">ç»„ä»¶çš„æœ¬è´¨</a></li><li><a href="/principle-docs/vue/03-æœ‰çŠ¶æ€ç»„ä»¶çš„è®¾è®¡.html" class="sidebar-link">æœ‰çŠ¶æ€ç»„ä»¶çš„è®¾è®¡</a></li><li><a href="/principle-docs/vue/04-è®¾è®¡ VNode.html" class="sidebar-link">è®¾è®¡ VNode</a></li><li><a href="/principle-docs/vue/05-è¾…åŠ©åˆ›å»º VNode çš„ h å‡½æ•°.html" class="sidebar-link">è¾…åŠ©åˆ›å»º VNode çš„ h å‡½æ•°</a></li><li><a href="/principle-docs/vue/06-è‡ªå®šä¹‰æ¸²æŸ“å™¨å’Œå¼‚æ­¥æ¸²æŸ“.html" class="sidebar-link">è‡ªå®šä¹‰æ¸²æŸ“å™¨å’Œå¼‚æ­¥æ¸²æŸ“</a></li><li><a href="/principle-docs/vue/07-æ¸²æŸ“å™¨ä¹‹æŒ‚è½½.html" class="sidebar-link">æ¸²æŸ“å™¨ä¹‹æŒ‚è½½</a></li><li><a href="/principle-docs/vue/08-æ¸²æŸ“å™¨çš„æ ¸å¿ƒ Diff ç®—æ³•.html" class="sidebar-link">æ¸²æŸ“å™¨çš„æ ¸å¿ƒ Diff ç®—æ³•</a></li><li><a href="/principle-docs/vue/09-æ¸²æŸ“å™¨ä¹‹patch.html" class="sidebar-link">æ¸²æŸ“å™¨ä¹‹patch</a></li><li><a href="/principle-docs/vue/10-å›¾è§£ Vue å“åº”å¼åŸç†.html" class="sidebar-link">å›¾è§£ Vue å“åº”å¼åŸç†</a></li><li><a href="/principle-docs/vue/11-å›¾è§£ Vue å¼‚æ­¥æ›´æ–°.html" class="sidebar-link">å›¾è§£ Vue å¼‚æ­¥æ›´æ–°</a></li><li><a href="/principle-docs/vue/12-å‰–æ Vue å†…éƒ¨è¿è¡Œæœºåˆ¶.html" class="sidebar-link">å‰–æ Vue å†…éƒ¨è¿è¡Œæœºåˆ¶</a></li><li><a href="/principle-docs/vue/13-vueå“åº”å¼åŸç†æ¨¡æ‹Ÿ.html" class="sidebar-link">vueå“åº”å¼åŸç†æ¨¡æ‹Ÿ</a></li><li><a href="/principle-docs/vue/14-vueçŠ¶æ€ç®¡ç†ä¹‹vuex.html" class="sidebar-link">vueçŠ¶æ€ç®¡ç†ä¹‹vuex</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/principle-docs/react/01-React-routeråŸç†.html" class="sidebar-link">React</a></li><li><a href="/principle-docs/react/02-Dvaæ€»ç»“.html" class="sidebar-link">Dvaæ€»ç»“</a></li><li><a href="/principle-docs/react/03-MobXæ€»ç»“.html" class="sidebar-link">MobXæ€»ç»“</a></li><li><a href="/principle-docs/react/04-æµ…æredux-sagaä¸­é—´ä»¶åŠç”¨æ³•.html" class="sidebar-link">æµ…æredux</a></li><li><a href="/principle-docs/react/05-Reduxä¹‹æµ…æä¸­é—´ä»¶.html" class="sidebar-link">Reduxä¹‹æµ…æä¸­é—´ä»¶</a></li><li><a href="/principle-docs/react/06-Reduxä¹‹æºç åˆ†æ.html" class="sidebar-link">Reduxä¹‹æºç åˆ†æ</a></li><li><a href="/principle-docs/react/07-Reduxä¹‹å¼‚æ­¥ActionåŠæ“ä½œ.html" class="sidebar-link">Reduxä¹‹å¼‚æ­¥ActionåŠæ“ä½œ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/principle-docs/webpack/01-Webpack4æ‰“åŒ…æœºåˆ¶åŸç†è§£æ.html" class="sidebar-link">Webpack4æ‰“åŒ…æœºåˆ¶åŸç†è§£æ</a></li><li><a href="/principle-docs/webpack/02-webpackä¸­çš„HMRçƒ­æ›´æ–°åŸç†å‰–æ.html" class="sidebar-link">webpackä¸­çš„HMRçƒ­æ›´æ–°åŸç†å‰–æ</a></li><li><a href="/principle-docs/webpack/03-ä»æºç çª¥æ¢Webpack4.xåŸç†.html" class="active sidebar-link">ä»æºç çª¥æ¢Webpack4.xåŸç†</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/principle-docs/webpack/04-å®ç°webpackå°å‹æ‰“åŒ…å·¥å…·.html" class="sidebar-link">å®ç°webpackå°å‹æ‰“åŒ…å·¥å…·</a></li><li><a href="/principle-docs/webpack/05-BabelåŸç†åŠå…¶ä½¿ç”¨.html" class="sidebar-link">BabelåŸç†åŠå…¶ä½¿ç”¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ç»¼åˆ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/principle-docs/comprehensive/01-è™šæ‹ŸDOMåŸç†åˆ†æ.html" class="sidebar-link">è™šæ‹ŸDOMåŸç†åˆ†æ</a></li><li><a href="/principle-docs/comprehensive/02-setTimeoutå®ç°åŸç†å’Œä½¿ç”¨æ³¨æ„.html" class="sidebar-link">setTimeoutå®ç°åŸç†å’Œä½¿ç”¨æ³¨æ„</a></li><li><a href="/principle-docs/comprehensive/03-æµ…æPromiseåŸç†.html" class="sidebar-link">æµ…æPromiseåŸç†</a></li><li><a href="/principle-docs/comprehensive/04-æµè§ˆå™¨æ¸²æŸ“åŸç†.html" class="sidebar-link">æµè§ˆå™¨æ¸²æŸ“åŸç†</a></li><li><a href="/principle-docs/comprehensive/05-å‰ç«¯é¢è¯•ä¹‹MVVMæµ…æ.html" class="sidebar-link">å‰ç«¯é¢è¯•ä¹‹MVVMæµ…æ</a></li><li><a href="/principle-docs/comprehensive/06-å‰ç«¯é¢è¯•ä¹‹ç»„ä»¶åŒ–.html" class="sidebar-link">å‰ç«¯é¢è¯•ä¹‹ç»„ä»¶åŒ–</a></li><li><a href="/principle-docs/comprehensive/07-è™šæ‹ŸDOMï¼ˆä¸€ï¼‰.html" class="sidebar-link">è™šæ‹ŸDOMï¼ˆä¸€ï¼‰</a></li><li><a href="/principle-docs/comprehensive/08-è™šæ‹ŸDOMï¼ˆäºŒï¼‰.html" class="sidebar-link">è™šæ‹ŸDOMï¼ˆäºŒï¼‰</a></li><li><a href="/principle-docs/comprehensive/09-å‰ç«¯æ€§èƒ½ä¹‹Performance.html" class="sidebar-link">å‰ç«¯æ€§èƒ½ä¹‹Performance</a></li></ul></section></li></ul> </aside> <main class="page"> <div id="container" class="theme-default-content"><div class="content__default"><h3 id="webpackæœ¬è´¨"><a href="#webpackæœ¬è´¨" class="header-anchor">#</a> Webpackæœ¬è´¨</h3> <blockquote><p>Webpackæœ¬è´¨ä¸Šä¸€ç§åŸºäºäº‹ä»¶æµçš„ç¼–ç¨‹èŒƒä¾‹ï¼Œå…¶å®å°±æ˜¯ä¸€ç³»åˆ—çš„æ’ä»¶è¿è¡Œ</p></blockquote> <p><code>Webpack</code>ä¸»è¦ä½¿ç”¨<code>Compiler</code>å’Œ<code>Compilation</code>ä¸¤ä¸ªç±»æ¥æ§åˆ¶<code>Webpack</code>çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚ä»–ä»¬éƒ½ç»§æ‰¿äº†<code>Tapabel</code>å¹¶ä¸”é€šè¿‡Tapabelæ¥æ³¨å†Œäº†ç”Ÿå‘½å‘¨æœŸä¸­çš„æ¯ä¸€ä¸ªæµç¨‹éœ€è¦è§¦å‘çš„äº‹ä»¶</p> <h3 id="tapabel"><a href="#tapabel" class="header-anchor">#</a> Tapabel</h3> <blockquote><p><code>Tapabel</code>æ˜¯ä¸€ä¸ªç±»ä¼¼äº <code>Node.js</code> çš„ <code>EventEmitter</code>çš„åº“ï¼Œä¸»è¦æ˜¯æ§åˆ¶é’©å­å‡½æ•°çš„å‘å¸ƒä¸è®¢é˜…ï¼Œæ˜¯<code>Webpack</code>æ’ä»¶ç³»ç»Ÿçš„å¤§ç®¡å®¶</p></blockquote> <p><strong>Tapabelæä¾›çš„é’©å­åŠç¤ºä¾‹</strong></p> <blockquote><p><code>Tapable</code>åº“ä¸ºæ’ä»¶æä¾›äº†å¾ˆå¤š Hookä»¥ä¾¿æŒ‚è½½ã€‚</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>
    SyncHook<span class="token punctuation">,</span>                   <span class="token comment">// åŒæ­¥é’©å­</span>
    SyncBailHook<span class="token punctuation">,</span>               <span class="token comment">// åŒæ­¥ç†”æ–­é’©å­</span>
    SyncWaterfallHook<span class="token punctuation">,</span>          <span class="token comment">// åŒæ­¥æµæ°´é’©å­</span>
    SyncLoopHook<span class="token punctuation">,</span>               <span class="token comment">// åŒæ­¥å¾ªç¯é’©å­</span>
    AsyncParalleHook<span class="token punctuation">,</span>           <span class="token comment">// å¼‚æ­¥å¹¶å‘é’©å­</span>
    AsyncParallelBailHook<span class="token punctuation">,</span>      <span class="token comment">// å¼‚æ­¥å¹¶å‘ç†”æ–­é’©å­</span>
    AsyncSeriesHook<span class="token punctuation">,</span>            <span class="token comment">// å¼‚æ­¥ä¸²è¡Œé’©å­</span>
    AsyncSeriesBailHook<span class="token punctuation">,</span>        <span class="token comment">// å¼‚æ­¥ä¸²è¡Œç†”æ–­é’©å­</span>
    AsyncSeriesWaterfallHook     <span class="token comment">// å¼‚æ­¥ä¸²è¡Œæµæ°´é’©å­</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;tapable&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p><code>Tabpack</code> æä¾›äº†åŒæ­¥&amp;å¼‚æ­¥ç»‘å®šé’©å­çš„æ–¹æ³•ï¼Œæ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</p></blockquote> <table><thead><tr><th>Async</th> <th>Sync</th></tr></thead> <tbody><tr><td>ç»‘å®šï¼š<code>tapAsync/tapPromise/tap</code></td> <td>ç»‘å®šï¼š<code>tap</code></td></tr> <tr><td>æ‰§è¡Œï¼š<code>callAsync/promise</code></td> <td>æ‰§è¡Œï¼š<code>call|</code></td></tr></tbody></table> <p><strong>Tabpackç®€å•ç¤ºä¾‹</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> demohook <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SyncHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;arg1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;arg2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;arg3&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ç»‘å®šäº‹ä»¶åˆ°webpackäº‹ä»¶æµ</span>
demohook<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&quot;hook1&quot;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> arg3</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> arg3<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1 2 3</span>
<span class="token comment">// æ‰§è¡Œç»‘å®šçš„äº‹ä»¶</span>
<span class="token function">demohook</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="æºç è§£è¯»"><a href="#æºç è§£è¯»" class="header-anchor">#</a> æºç è§£è¯»</h3> <p><strong>1. åˆå§‹åŒ–å¯åŠ¨ä¹‹Webpackçš„å…¥å£æ–‡ä»¶</strong></p> <ul><li>è¿½æœ¬æº¯æºï¼Œç¬¬ä¸€æ­¥æˆ‘ä»¬è¦æ‰¾åˆ°<code>Webpack</code>çš„å…¥å£æ–‡ä»¶ã€‚</li> <li>å½“é€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨Webpackåï¼Œ<code>npm</code>ä¼šè®©å‘½ä»¤è¡Œå·¥å…·è¿›å…¥<code>node_modules.bin</code> ç›®å½•ã€‚</li> <li>ç„¶åæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨ <code>webpack.sh</code> æˆ–è€… webpack.cmd æ–‡ä»¶ï¼Œå¦‚æœå­˜åœ¨ï¼Œå°±æ‰§è¡Œå®ƒä»¬ï¼Œä¸å­˜åœ¨å°±ä¼šæŠ›å‡ºé”™è¯¯ã€‚</li> <li>å®é™…çš„å…¥å£æ–‡ä»¶æ˜¯ï¼š<code>node_modules/webpack/bin/webpack.js</code>ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹é‡Œé¢çš„æ ¸å¿ƒå‡½æ•°ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/bin/webpack.js</span>
<span class="token comment">// æ­£å¸¸æ‰§è¡Œè¿”å›</span>
process<span class="token punctuation">.</span>exitCode <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">// è¿è¡ŒæŸä¸ªå‘½ä»¤                               </span>
<span class="token keyword">const</span> <span class="token function-variable function">runCommand</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">command<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token comment">// åˆ¤æ–­æŸä¸ªåŒ…æ˜¯å¦å®‰è£…</span>
<span class="token keyword">const</span> <span class="token function-variable function">isInstalled</span> <span class="token operator">=</span> <span class="token parameter">packageName</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token comment">// webpackå¯ç”¨çš„CLIï¼šwebpacl-cliå’Œwebpack-command</span>
<span class="token keyword">const</span> CLIs <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token comment">// åˆ¤æ–­æ˜¯å¦ä¸¤ä¸ªCLIæ˜¯å¦å®‰è£…äº†</span>
<span class="token keyword">const</span> installedClis <span class="token operator">=</span> CLIs<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">cli</span><span class="token operator">=&gt;</span>cli<span class="token punctuation">.</span>installed<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ ¹æ®å®‰è£…æ•°é‡è¿›è¡Œå¤„ç†</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>installedClis<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span>
 <span class="token punctuation">(</span>installedClis<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
</code></pre></div><blockquote><p>å¯åŠ¨åï¼Œ<code>Webpack</code>æœ€ç»ˆä¼šæ‰¾åˆ° <code>webpack-cli /webpack-command</code>çš„ <code>npm</code> åŒ…ï¼Œå¹¶ä¸” æ‰§è¡Œ <code>CLI</code>ã€‚</p></blockquote> <p><strong>2. webpack-cli</strong></p> <blockquote><p>ææ¸…æ¥šäº†<code>Webpack</code>å¯åŠ¨çš„å…¥å£æ–‡ä»¶åï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬æŠŠç›®å…‰è½¬ç§»åˆ°<code>webpack-cli</code>ï¼Œçœ‹çœ‹å®ƒåšäº†å“ªäº›äº‹å„¿ã€‚</p></blockquote> <ul><li>å¼•å…¥ <code>yargs</code>ï¼Œå¯¹å‘½ä»¤è¡Œè¿›è¡Œå®šåˆ¶åˆ†æå‘½ä»¤è¡Œå‚æ•°ï¼Œå¯¹å„ä¸ªå‚æ•°è¿›è¡Œè½¬æ¢ï¼Œç»„æˆç¼–è¯‘é…ç½®é¡¹å¼•ç”¨<code>webpack</code>ï¼Œæ ¹æ®é…ç½®é¡¹è¿›è¡Œç¼–è¯‘å’Œæ„å»º</li> <li><code>webpack-cli</code> ä¼šå¤„ç†ä¸éœ€è¦ç»è¿‡ç¼–è¯‘çš„å‘½ä»¤ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack-cli/bin/cli.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token constant">NON_COMPILATION_ARGS</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./utils/constants&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">NON_COMPILATION_CMD</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>argv<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">arg</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arg <span class="token operator">===</span> <span class="token string">&quot;serve&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        global<span class="token punctuation">.</span>process<span class="token punctuation">.</span>argv <span class="token operator">=</span> global<span class="token punctuation">.</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">a</span> <span class="token operator">=&gt;</span> a <span class="token operator">!==</span> <span class="token string">&quot;serve&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        process<span class="token punctuation">.</span>argv <span class="token operator">=</span> global<span class="token punctuation">.</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token constant">NON_COMPILATION_ARGS</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">a</span> <span class="token operator">=&gt;</span> a <span class="token operator">===</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NON_COMPILATION_CMD</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./utils/prompt-command&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token constant">NON_COMPILATION_CMD</span><span class="token punctuation">,</span><span class="token operator">...</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>webpack-cli</code>æä¾›çš„ä¸éœ€è¦ç¼–è¯‘çš„å‘½ä»¤å¦‚ä¸‹</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack-cli/bin/untils/constants.js</span>
<span class="token keyword">const</span> <span class="token constant">NON_COMPILATION_ARGS</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;init&quot;</span><span class="token punctuation">,</span>                 <span class="token comment">// åˆ›å»ºä¸€ä»½webpacké…ç½®æ–‡ä»¶</span>
    <span class="token string">&quot;migrate&quot;</span><span class="token punctuation">,</span>              <span class="token comment">// è¿›è¡Œwebpackç‰ˆæœ¬è¿ç§»</span>
    <span class="token string">&quot;add&quot;</span><span class="token punctuation">,</span>                  <span class="token comment">// å¾€webpacké…ç½®æ–‡ä»¶ä¸­å¢åŠ å±æ€§</span>
    <span class="token string">&quot;remove&quot;</span><span class="token punctuation">,</span>               <span class="token comment">// å¾€webpacké…ç½®æ–‡ä»¶ä¸­åˆ é™¤å±æ€§</span>
    <span class="token string">&quot;serve&quot;</span><span class="token punctuation">,</span>                <span class="token comment">// è¿è¡Œwebpack-serve</span>
    <span class="token string">&quot;generate-loader&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// ç”Ÿæˆwebpack loaderä»£ç </span>
    <span class="token string">&quot;generate-plugin&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// ç”Ÿæˆwebpack pluginä»£ç </span>
    <span class="token string">&quot;info&quot;</span>                  <span class="token comment">// è¿”å›ä¸æœ¬åœ°ç¯å¢ƒç›¸å…³çš„ä¸€äº›ä¿¡æ¯</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p><code>webpack-cli</code> ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·åŒ…<code>yargs</code></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack-cli/bin/config/config-yargs.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>
    <span class="token constant">CONFIG_GROUP</span><span class="token punctuation">,</span>
    <span class="token constant">BASIC_GROUP</span><span class="token punctuation">,</span>
    <span class="token constant">MODULE_GROUP</span><span class="token punctuation">,</span>
    <span class="token constant">OUTPUT_GROUP</span><span class="token punctuation">,</span>
    <span class="token constant">ADVANCED_GROUP</span><span class="token punctuation">,</span>
    <span class="token constant">RESOLVE_GROUP</span><span class="token punctuation">,</span>
    <span class="token constant">OPTIMIZE_GROUP</span><span class="token punctuation">,</span>
    <span class="token constant">DISPLAY_GROUP</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token constant">GROUPS</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>webpack-cli</code>å¯¹é…ç½®æ–‡ä»¶å’Œå‘½ä»¤è¡Œå‚æ•°è¿›è¡Œè½¬æ¢æœ€ç»ˆç”Ÿæˆé…ç½®é€‰é¡¹å‚æ•° <code>options</code>ï¼Œæœ€ç»ˆä¼šæ ¹æ®é…ç½®å‚æ•°å®ä¾‹åŒ–webpackå¯¹è±¡ï¼Œç„¶åæ‰§è¡Œæ„å»ºæµç¨‹ã€‚</li> <li>é™¤æ­¤ä¹‹å¤–ï¼Œè®©æˆ‘ä»¬å›åˆ°<code>node_modules/webpack/lib/webpack.js</code>é‡Œæ¥çœ‹ä¸€ä¸‹<code>Webpack</code>è¿˜åšäº†å“ªäº›å‡†å¤‡å·¥ä½œã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/webpack.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">webpack</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">options<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    options <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebpackOptionsDefaulter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    compiler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Compiler</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">NodeEnvironmentPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
    compiler<span class="token punctuation">.</span>options <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebpackOptionsApply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
    webpack<span class="token punctuation">.</span>WebpackOptionsDefaulter <span class="token operator">=</span> WebpackOptionsDefaulter<span class="token punctuation">;</span>
    webpack<span class="token punctuation">.</span>WebpackOptionsApply <span class="token operator">=</span> WebpackOptionsApply<span class="token punctuation">;</span>
    <span class="token operator">...</span>
    webpack<span class="token punctuation">.</span>NodeEnvironmentPlugin <span class="token operator">=</span> NodeEnvironmentPlugin<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>WebpackOptionsDefaulter</code>çš„åŠŸèƒ½æ˜¯è®¾ç½®ä¸€äº›é»˜è®¤çš„<code>Options</code>(ä»£ç æ¯”è¾ƒå¤šä¸è´´äº†ï¼Œå¤§å®¶è‡ªè¡ŒæŸ¥çœ‹<code>node_modules/webpack/lib/WebpackOptionsDefaulter.js</code>)</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/node/NodeEnvironmentPlugin.js</span>
<span class="token keyword">class</span> <span class="token class-name">NodeEnvironmentPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>
      compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>beforeRun<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&quot;NodeEnvironmentPlugin&quot;</span><span class="token punctuation">,</span> <span class="token parameter">compiler</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	  <span class="token keyword">if</span> <span class="token punctuation">(</span>compiler<span class="token punctuation">.</span>inputFileSystem <span class="token operator">===</span> inputFileSystem<span class="token punctuation">)</span> inputFileSystem<span class="token punctuation">.</span><span class="token function">purge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>ä»ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œ<code>NodeEnvironmentPlugin</code>æ’ä»¶ç›‘å¬äº†<code>beforeRun</code>é’©å­ï¼Œå®ƒçš„ä½œç”¨æ˜¯æ¸…é™¤ç¼“å­˜</p></blockquote> <p><strong>3. WebpackOptionsApply</strong></p> <blockquote><p><code>WebpackOptionsApply</code>ä¼šå°†æ‰€æœ‰çš„é…ç½®<code>options</code>å‚æ•°è½¬æ¢æˆ<code>webpack</code>å†…éƒ¨æ’ä»¶ã€‚</p></blockquote> <p><strong>ä½¿ç”¨é»˜è®¤æ’ä»¶åˆ—è¡¨</strong></p> <ul><li><code>output.library</code> -&gt; <code>LibraryTemplatePlugin</code></li> <li><code>externals</code> -&gt; <code>ExternalsPlugin</code></li> <li><code>devtool</code> -&gt; <code>EvalDevtoolModulePlugin, SourceMapDevToolPlugin</code></li> <li><code>AMDPlugin</code>, <code>CommonJsPlugin</code></li> <li><code>RemoveEmptyChunksPlugin</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/WebpackOptionsApply.js</span>
<span class="token keyword">new</span> <span class="token class-name">EntryOptionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">entryOption</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>context<span class="token punctuation">,</span> options<span class="token punctuation">.</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>å®é™…ä¸Šï¼Œæ’ä»¶æœ€åéƒ½ä¼šå˜æˆ<code>compiler</code>å¯¹è±¡ä¸Šçš„å®ä¾‹ã€‚</p></blockquote> <p><strong>4. EntryOptionPlugin</strong></p> <blockquote><p>ä¸‹æ¥è®©æˆ‘ä»¬è¿›å…¥<code>EntryOptionPlugin</code>æ’ä»¶ï¼Œçœ‹çœ‹å®ƒåšäº†å“ªäº›äº‹å„¿ã€‚</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/EntryOptionPlugin.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">EntryOptionPlugin</span> <span class="token punctuation">{</span>
    <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>entryOption<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&quot;EntryOptionPlugin&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> entry</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> entry <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">||</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	        <span class="token function">itemToPlugin</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> entry<span class="token punctuation">,</span> <span class="token string">&quot;main&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> entry <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> name <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		    <span class="token function">itemToPlugin</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> entry<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token punctuation">}</span>
	    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> entry <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	        <span class="token keyword">new</span> <span class="token class-name">DynamicEntryPlugin</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> entry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token punctuation">}</span>
	    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>å¦‚æœæ˜¯æ•°ç»„ï¼Œåˆ™è½¬æ¢æˆå¤šä¸ª<code>entry</code>æ¥å¤„ç†ï¼Œå¦‚æœæ˜¯å¯¹è±¡åˆ™è½¬æ¢æˆä¸€ä¸ªä¸ª<code>entry</code>æ¥å¤„ç†ã€‚</li> <li><code>compiler</code>å®ä¾‹åŒ–æ˜¯åœ¨<code>node_modules/webpack/lib/webpack.js</code>é‡Œå®Œæˆçš„ã€‚é€šè¿‡<code>EntryOptionPlugin</code>æ’ä»¶è¿›è¡Œå‚æ•°æ ¡éªŒã€‚é€šè¿‡<code>WebpackOptionsDefaulter</code>å°†ä¼ å…¥çš„å‚æ•°å’Œé»˜è®¤å‚æ•°è¿›è¡Œåˆå¹¶æˆä¸ºæ–°çš„<code>options</code>ï¼Œåˆ›å»ºcompilerï¼Œä»¥åŠç›¸å…³pluginï¼Œæœ€åé€šè¿‡</li> <li><code>WebpackOptionsApply</code>å°†æ‰€æœ‰çš„é…ç½®<code>options</code>å‚æ•°è½¬æ¢æˆ<code>Webpack</code>å†…éƒ¨æ’ä»¶ã€‚</li> <li>å†æ¬¡æ¥åˆ°æˆ‘ä»¬çš„<code>node_modules/webpack/lib/webpack.js</code>ä¸­</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>watch <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">||</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">o</span> <span class="token operator">=&gt;</span> o<span class="token punctuation">.</span>watch<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> watchOptions <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
	<span class="token operator">?</span> options<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">o</span> <span class="token operator">=&gt;</span> o<span class="token punctuation">.</span>watchOptions <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">:</span> options<span class="token punctuation">.</span>watchOptions <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> compiler<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>watchOptions<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
compiler<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>å®ä¾‹<code>compiler</code>åä¼šæ ¹æ®<code>options</code>çš„watchåˆ¤æ–­æ˜¯å¦å¯åŠ¨äº†<code>watch</code>ï¼Œå¦‚æœå¯åŠ¨<code>watch</code>äº†å°±è°ƒç”¨<code>compiler.watch</code>æ¥ç›‘æ§æ„å»ºæ–‡ä»¶ï¼Œå¦åˆ™å¯åŠ¨<code>compiler.run</code>æ¥æ„å»ºæ–‡ä»¶ã€‚</p></blockquote> <h3 id="ç¼–è¯‘æ„å»º"><a href="#ç¼–è¯‘æ„å»º" class="header-anchor">#</a> ç¼–è¯‘æ„å»º</h3> <p><strong>compile</strong></p> <blockquote><p>é¦–å…ˆä¼šå®ä¾‹åŒ–<code>NormalModuleFactory</code>å’Œ<code>ContextModuleFactory</code>ã€‚ç„¶åè¿›å…¥åˆ°<code>run</code>æ–¹æ³•ã€‚</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/Compiler.js</span>
<span class="token function">run</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token comment">// beforeRun å¦‚ä¸Šæ–‡NodeEnvironmentPluginæ’ä»¶æ¸…é™¤ç¼“å­˜</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>beforeRun<span class="token punctuation">.</span><span class="token function">callAsync</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">finalCallback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ‰§è¡Œrun Hookå¼€å§‹ç¼–è¯‘</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>run<span class="token punctuation">.</span><span class="token function">callAsync</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">finalCallback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">readRecords</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">finalCallback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// æ‰§è¡Œcompile</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>onCompiled<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>åœ¨æ‰§è¡Œ<code>this.hooks.compile</code>ä¹‹å‰ä¼šæ‰§è¡Œ<code>this.hooks.beforeCompile</code>ï¼Œæ¥å¯¹ç¼–è¯‘ä¹‹å‰éœ€è¦å¤„ç†çš„æ’ä»¶è¿›è¡Œæ‰§è¡Œã€‚ç´§æ¥ç€<code>this.hooks.compile</code>æ‰§è¡Œåä¼šå®ä¾‹åŒ–<code>Compilation</code>å¯¹è±¡</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/compiler.js</span>
<span class="token function">compile</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">newCompilationParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>beforeCompile<span class="token punctuation">.</span><span class="token function">callAsync</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// è¿›å…¥compileé˜¶æ®µ</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> compilation <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">newCompilation</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// è¿›å…¥makeé˜¶æ®µ</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>make<span class="token punctuation">.</span><span class="token function">callAsync</span><span class="token punctuation">(</span>compilation<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
	    compilation<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// è¿›å…¥sealé˜¶æ®µ</span>
		compilation<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
		    <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>afterCompile<span class="token punctuation">.</span><span class="token function">callAsync</span><span class="token punctuation">(</span>compilation<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> compilation<span class="token punctuation">)</span><span class="token punctuation">;</span>
		    <span class="token punctuation">}</span><span class="token punctuation">)</span>
 		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	    <span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="make"><a href="#make" class="header-anchor">#</a> make</h3> <ul><li>ä¸€ä¸ªæ–°çš„<code>Compilation</code>åˆ›å»ºå®Œæ¯•ï¼Œå°†ä»<code>Entry</code>å¼€å§‹è¯»å–æ–‡ä»¶ï¼Œæ ¹æ®æ–‡ä»¶ç±»å‹å’Œé…ç½®çš„<code>Loader</code>å¯¹æ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘å®Œæˆåå†æ‰¾å‡ºè¯¥æ–‡ä»¶ä¾èµ–çš„æ–‡ä»¶ï¼Œé€’å½’çš„ç¼–è¯‘å’Œè§£æã€‚</li> <li>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹<code>make</code>é’©å­è¢«ç›‘å¬çš„åœ°æ–¹ã€‚</li> <li>å¦‚ä»£ç ä¸­æ³¨é‡Šæ‰€ç¤ºï¼Œ<code>addEntry</code>æ˜¯<code>make</code>æ„å»ºé˜¶æ®µçœŸæ­£å¼€å§‹çš„æ ‡å¿—</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/SingleEntryPlugin.js</span>
compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>make<span class="token punctuation">.</span><span class="token function">tapAsync</span><span class="token punctuation">(</span>
    <span class="token string">&quot;SingleEntryPlugin&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token parameter">compilation<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span> entry<span class="token punctuation">,</span> name<span class="token punctuation">,</span> context <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
	cosnt dep <span class="token operator">=</span> SingleEntryPlugin<span class="token punctuation">.</span><span class="token function">createDependency</span><span class="token punctuation">(</span>entry<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// makeæ„å»ºé˜¶æ®µå¼€å§‹æ ‡å¿— </span>
	compilation<span class="token punctuation">.</span><span class="token function">addEntry</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> dep<span class="token punctuation">,</span> name<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre></div><blockquote><p><code>addEntry</code>å®é™…ä¸Šè°ƒç”¨äº†<code>_addModuleChain</code>æ–¹æ³•ï¼Œ<code>_addModuleChain</code>æ–¹æ³•å°†æ¨¡å—æ·»åŠ åˆ°ä¾èµ–åˆ—è¡¨ä¸­å»ï¼ŒåŒæ—¶è¿›è¡Œæ¨¡å—æ„å»ºã€‚æ„å»ºæ—¶ä¼šæ‰§è¡Œå¦‚ä¸‹å‡½æ•°</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/Compilation.js</span>
<span class="token comment">// addEntry -&gt; addModuleChain</span>
<span class="token function">_addModuleChain</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> dependency<span class="token punctuation">,</span> onModule<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token operator">...</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">buildModule</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>å¦‚æœæ¨¡å—æ„å»ºå®Œæˆï¼Œä¼šè§¦å‘<code>finishModules</code>ã€‚</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/Compilation.js</span>
<span class="token function">finish</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> modules <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>finishModules<span class="token punctuation">.</span><span class="token function">callAsync</span><span class="token punctuation">(</span>modules<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> modules<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    <span class="token keyword">const</span> module <span class="token operator">=</span> modules<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reportDependencyErrorsAndWarnings</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> <span class="token punctuation">[</span>module<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>1. Module</strong></p> <ul><li><code>Module</code>åŒ…æ‹¬<code>NormalModule</code>(æ™®é€šæ¨¡å—)ã€<code>ContextModule(./src/a ./src/b)</code>ã€<code>ExternalModule(module.exports=jQuery)</code>ã€<code>DelegatedModule(manifest)</code>ä»¥åŠ<code>MultiModule(entry:['a', 'b'])</code>ã€‚</li> <li>æœ¬æ–‡ä»¥<code>NormalModule(æ™®é€šæ¨¡å—)</code>ä¸ºä¾‹å­ï¼Œçœ‹ä¸€ä¸‹æ„å»º(<code>Compilation</code>)çš„è¿‡ç¨‹ã€‚</li></ul> <blockquote><p>ä½¿ç”¨ <code>loader-runner</code> è¿è¡Œ <code>loadersLoader</code>è½¬æ¢å®Œåï¼Œä½¿ç”¨ <code>acorn</code> è§£æç”Ÿæˆ<code>AST</code>ä½¿ç”¨ <code>ParserPlugins</code> æ·»åŠ ä¾èµ–</p></blockquote> <p><strong>2. loader-runner</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/NormalModule.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> getContext<span class="token punctuation">,</span> runLoaders <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;loader-runner&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">doBuild</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token function">runLoaders</span><span class="token punctuation">(</span>
        <span class="token operator">...</span>
    <span class="token punctuation">)</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>doBuild</code>ä¼šå»åŠ è½½èµ„æºï¼Œ<code>doBuild</code>ä¸­ä¼šä¼ å…¥èµ„æºè·¯å¾„å’Œæ’ä»¶èµ„æºå»è°ƒç”¨<code>loader-runner</code>æ’ä»¶çš„<code>runLoaders</code>æ–¹æ³•å»åŠ è½½å’Œæ‰§è¡Œ<code>loader</code></p></blockquote> <p><strong>3. acorn</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/Parser.jsconst acorn = require(&quot;acorn&quot;);</span>
</code></pre></div><blockquote><p>ä½¿ç”¨<code>acorn</code>è§£æè½¬æ¢åçš„å†…å®¹ï¼Œè¾“å‡ºå¯¹åº”çš„æŠ½è±¡è¯­æ³•æ ‘(<code>AST</code>)ã€‚</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/Compilation.js</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">buildModule</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">failedModule</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">succeedModule</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>æˆåŠŸå°±è§¦å‘<code>succeedModule</code>ï¼Œå¤±è´¥å°±è§¦å‘<code>failedModule</code>ã€‚</li> <li>æœ€ç»ˆå°†ä¸Šè¿°é˜¶æ®µç”Ÿæˆçš„äº§ç‰©å­˜æ”¾åˆ°<code>Compilation.js</code>çš„<code>this.modules = []</code>;ä¸Šã€‚</li></ul> <blockquote><p>å®Œæˆåå°±åˆ°äº†<code>seal</code>é˜¶æ®µã€‚</p></blockquote> <p>è¿™é‡Œè¡¥å……ä»‹ç»ä¸€ä¸‹Chunkç”Ÿæˆçš„ç®—æ³•</p> <p><strong>4. Chunkç”Ÿæˆç®—æ³•</strong></p> <ul><li><code>webpack</code>é¦–å…ˆä¼šå°†<code>entry</code>ä¸­å¯¹åº”çš„<code>module</code>éƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„<code>chunk</code>ã€‚</li> <li>éå†<code>module</code>çš„ä¾èµ–åˆ—è¡¨ï¼Œå°†ä¾èµ–çš„<code>module</code>ä¹ŸåŠ å…¥åˆ°<code>chunk</code>ä¸­ã€‚</li> <li>å¦‚æœä¸€ä¸ªä¾èµ–<code>module</code>æ˜¯åŠ¨æ€å¼•å…¥çš„æ¨¡å—ï¼Œä¼šæ ¹æ®è¿™ä¸ª<code>module</code>åˆ›å»ºä¸€ä¸ªæ–°çš„<code>chunk</code>ï¼Œç»§ç»­éå†ä¾èµ–ã€‚</li> <li>é‡å¤ä¸Šé¢çš„è¿‡ç¨‹ï¼Œç›´è‡³å¾—åˆ°æ‰€æœ‰çš„<code>chunk</code>ã€‚</li></ul> <h3 id="seal"><a href="#seal" class="header-anchor">#</a> seal</h3> <ul><li>æ‰€æœ‰æ¨¡å—åŠå…¶ä¾èµ–çš„æ¨¡å—éƒ½é€šè¿‡<code>Loader</code>è½¬æ¢å®Œæˆï¼Œæ ¹æ®ä¾èµ–å…³ç³»å¼€å§‹ç”Ÿæˆ<code>Chunk</code>ã€‚</li> <li><code>seal</code>é˜¶æ®µä¹Ÿåšäº†å¤§é‡çš„çš„ä¼˜åŒ–å·¥ä½œï¼Œè¿›è¡Œäº†<code>hash</code>çš„åˆ›å»ºä»¥åŠå¯¹å†…å®¹è¿›è¡Œç”Ÿæˆ(<code>createModuleAssets</code>)ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/Compilation.jsthis.createHash();</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">modifyHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createModuleAssets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/Compilation.js</span>
<span class="token function">createModuleAssets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> module <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>buildInfo<span class="token punctuation">.</span>assets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> assetName <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>buildInfo<span class="token punctuation">.</span>assets<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> fileName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span>assetName<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>assets<span class="token punctuation">[</span>fileName<span class="token punctuation">]</span> <span class="token operator">=</span> module<span class="token punctuation">.</span>buildInfo<span class="token punctuation">.</span>assets<span class="token punctuation">[</span>assetName<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">moduleAsset</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>seal</code>é˜¶æ®µç»å†äº†å¾ˆå¤šçš„ä¼˜åŒ–ï¼Œæ¯”å¦‚<code>tree shaking</code>å°±æ˜¯åœ¨è¿™ä¸ªé˜¶æ®µæ‰§è¡Œã€‚æœ€ç»ˆç”Ÿæˆçš„ä»£ç ä¼šå­˜æ”¾åœ¨<code>Compilation</code>çš„<code>assets</code>å±æ€§ä¸Š</p></blockquote> <h3 id="emit"><a href="#emit" class="header-anchor">#</a> emit</h3> <blockquote><p>å°†è¾“å‡ºçš„å†…å®¹è¾“å‡ºåˆ°ç£ç›˜ï¼Œåˆ›å»ºç›®å½•ç”Ÿæˆæ–‡ä»¶ï¼Œæ–‡ä»¶ç”Ÿæˆé˜¶æ®µç»“æŸã€‚</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// node_modules/webpack/lib/compiler.js</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>emit<span class="token punctuation">.</span><span class="token function">callAsync</span><span class="token punctuation">(</span>compilation<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    outputPath <span class="token operator">=</span> compilation<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>outputPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>outputFileSystem<span class="token punctuation">.</span><span class="token function">mkdirp</span><span class="token punctuation">(</span>outputPath<span class="token punctuation">,</span> emitFiles<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="header-anchor">#</a> æ€»ç»“</h3> <blockquote><p><code>Webpack</code>åœ¨å¯åŠ¨é˜¶æ®µå¯¹é…ç½®å‚æ•°å’Œå‘½ä»¤è¡Œå‚æ•°ä»¥åŠé»˜è®¤å‚æ•°è¿›è¡Œäº†åˆå¹¶ï¼Œå¹¶è¿›è¡Œäº†æ’ä»¶çš„åˆå§‹åŒ–å·¥ä½œã€‚å®Œæˆåˆå§‹åŒ–çš„å·¥ä½œåè°ƒç”¨<code>Compiler</code>çš„<code>run</code>å¼€å¯<code>Webpack</code>ç¼–è¯‘æ„å»ºè¿‡ç¨‹ï¼Œæ„å»ºä¸»è¦æµç¨‹åŒ…æ‹¬<code>compile</code>ã€<code>make</code>ã€<code>build</code>ã€<code>seal</code>ã€<code>emit</code>ç­‰é˜¶æ®µã€‚</p></blockquote></div> <!---->  </div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/principle-docs/webpack/02-webpackä¸­çš„HMRçƒ­æ›´æ–°åŸç†å‰–æ.html" class="prev">webpackä¸­çš„HMRçƒ­æ›´æ–°åŸç†å‰–æ</a></span> <span class="next"><a href="/principle-docs/webpack/04-å®ç°webpackå°å‹æ‰“åŒ…å·¥å…·.html">å®ç°webpackå°å‹æ‰“åŒ…å·¥å…·</a>
      â†’
    </span></p></div>  <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="è¯·å…ˆé˜…è¯»è´­ä¹°åè®®" class="el-dialog el-dialog--center" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title">è¯·å…ˆé˜…è¯»è´­ä¹°åè®®</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><div class="el-dialog__footer"><span class="dialog-footer"><button disabled="disabled" type="button" class="el-button el-button--danger is-disabled" style="width:100%;"><!----><!----><span>æˆ‘å·²é˜…è¯»ï¼ˆ8sï¼‰</span></button></span></div></div></div> <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="ä»˜è´¹é˜…è¯»" class="el-dialog" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title">ä»˜è´¹é˜…è¯»</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><div class="el-dialog__footer"><span class="dialog-footer"><button disabled="disabled" type="button" class="el-button el-button--danger is-disabled" style="width:100%;"><!----><!----><span>ç¡® å®š</span></button></span></div></div></div> <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="dialog" class="el-dialog" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title"></span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><!----></div></div> <img src="data:image/png;base64,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" class="theme-float-btn"></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.f60bfc341.js" defer></script><script src="/assets/js/6.7f8a8777.js" defer></script><script src="/assets/js/3.9d86cf58.js" defer></script><script src="/assets/js/113.6c12e76f.js" defer></script><script src="/assets/js/11.fb060006.js" defer></script>
  </body>
</html>
