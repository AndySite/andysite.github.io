<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>é¢è¯•æŒ‡å—</title>
    <meta name="description" content="å‰ç«¯é¢è¯•æŒ‡å—ï¼Œå‰ç«¯é¢è¯•é¢˜æ•´ç†ï¼ŒæŒ‰æ¨¡å—åˆ†ç±»æ•´ç†æ€»ç»“ï¼Œæ‰“é€ æœ€å…¨é¢çš„å‰ç«¯é¢è¯•é¢˜">
    <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="apple-mobile-web-app-status-bar-style">

    <link rel="preload" href="/assets/css/0.styles.9ad7bc48.css" as="style"><link rel="preload" href="/assets/js/app.f60bfc34.js" as="script"><link rel="preload" href="/assets/js/6.7f8a8777.js" as="script"><link rel="preload" href="/assets/js/3.9d86cf58.js" as="script"><link rel="preload" href="/assets/js/106.4ce7d3b7.js" as="script"><link rel="preload" href="/assets/js/11.fb060006.js" as="script"><link rel="prefetch" href="/assets/js/1.9e1b498f.js"><link rel="prefetch" href="/assets/js/10.fbc04ea9.js"><link rel="prefetch" href="/assets/js/100.c06a0f53.js"><link rel="prefetch" href="/assets/js/101.54402ede.js"><link rel="prefetch" href="/assets/js/102.d3860a7d.js"><link rel="prefetch" href="/assets/js/103.51a83ab2.js"><link rel="prefetch" href="/assets/js/104.4107118f.js"><link rel="prefetch" href="/assets/js/105.aada2418.js"><link rel="prefetch" href="/assets/js/107.ca87a327.js"><link rel="prefetch" href="/assets/js/108.df939701.js"><link rel="prefetch" href="/assets/js/109.9f0c8605.js"><link rel="prefetch" href="/assets/js/110.016c3eb7.js"><link rel="prefetch" href="/assets/js/111.ff5dbcc4.js"><link rel="prefetch" href="/assets/js/112.ab20caec.js"><link rel="prefetch" href="/assets/js/113.6c12e76f.js"><link rel="prefetch" href="/assets/js/114.48e1a019.js"><link rel="prefetch" href="/assets/js/115.f291caf1.js"><link rel="prefetch" href="/assets/js/116.0188d28e.js"><link rel="prefetch" href="/assets/js/117.9b579bae.js"><link rel="prefetch" href="/assets/js/118.89da516f.js"><link rel="prefetch" href="/assets/js/119.c70b5105.js"><link rel="prefetch" href="/assets/js/12.9774db85.js"><link rel="prefetch" href="/assets/js/120.fcf3186f.js"><link rel="prefetch" href="/assets/js/13.ac14541c.js"><link rel="prefetch" href="/assets/js/14.155007f0.js"><link rel="prefetch" href="/assets/js/15.2d9ec2b2.js"><link rel="prefetch" href="/assets/js/16.aec442e8.js"><link rel="prefetch" href="/assets/js/17.59c81a6b.js"><link rel="prefetch" href="/assets/js/18.c38ff446.js"><link rel="prefetch" href="/assets/js/19.8203bd99.js"><link rel="prefetch" href="/assets/js/20.103004c4.js"><link rel="prefetch" href="/assets/js/21.1e6e08c9.js"><link rel="prefetch" href="/assets/js/22.5abbfd40.js"><link rel="prefetch" href="/assets/js/23.4cd5fd4d.js"><link rel="prefetch" href="/assets/js/24.602403ee.js"><link rel="prefetch" href="/assets/js/25.da971f83.js"><link rel="prefetch" href="/assets/js/26.43589785.js"><link rel="prefetch" href="/assets/js/27.6d18f825.js"><link rel="prefetch" href="/assets/js/28.843b905f.js"><link rel="prefetch" href="/assets/js/29.81e33cc0.js"><link rel="prefetch" href="/assets/js/30.7a4491ed.js"><link rel="prefetch" href="/assets/js/31.4275e9d2.js"><link rel="prefetch" href="/assets/js/32.6e6c282b.js"><link rel="prefetch" href="/assets/js/33.35641348.js"><link rel="prefetch" href="/assets/js/34.7737e542.js"><link rel="prefetch" href="/assets/js/35.3d539e4d.js"><link rel="prefetch" href="/assets/js/36.78f70288.js"><link rel="prefetch" href="/assets/js/37.ed0997e2.js"><link rel="prefetch" href="/assets/js/38.6d35141d.js"><link rel="prefetch" href="/assets/js/39.3b4241bb.js"><link rel="prefetch" href="/assets/js/4.cda2fc13.js"><link rel="prefetch" href="/assets/js/40.dd7b6d84.js"><link rel="prefetch" href="/assets/js/41.05fcd6ed.js"><link rel="prefetch" href="/assets/js/42.24fc3ac4.js"><link rel="prefetch" href="/assets/js/43.27b59a40.js"><link rel="prefetch" href="/assets/js/44.ac552dd9.js"><link rel="prefetch" href="/assets/js/45.6b1e07c4.js"><link rel="prefetch" href="/assets/js/46.8bf4b340.js"><link rel="prefetch" href="/assets/js/47.57a13e6c.js"><link rel="prefetch" href="/assets/js/48.8ef881a7.js"><link rel="prefetch" href="/assets/js/49.b76df872.js"><link rel="prefetch" href="/assets/js/5.eb1f29dc.js"><link rel="prefetch" href="/assets/js/50.f04492e5.js"><link rel="prefetch" href="/assets/js/51.e000ebea.js"><link rel="prefetch" href="/assets/js/52.bfbd5e6e.js"><link rel="prefetch" href="/assets/js/53.fc0a60dd.js"><link rel="prefetch" href="/assets/js/54.a798cd42.js"><link rel="prefetch" href="/assets/js/55.5ccb6ae1.js"><link rel="prefetch" href="/assets/js/56.1605b000.js"><link rel="prefetch" href="/assets/js/57.79350f4e.js"><link rel="prefetch" href="/assets/js/58.dcff3859.js"><link rel="prefetch" href="/assets/js/59.a366020b.js"><link rel="prefetch" href="/assets/js/60.2c42a67f.js"><link rel="prefetch" href="/assets/js/61.4d471001.js"><link rel="prefetch" href="/assets/js/62.07f7a685.js"><link rel="prefetch" href="/assets/js/63.3774b497.js"><link rel="prefetch" href="/assets/js/64.d8437f45.js"><link rel="prefetch" href="/assets/js/65.eaf10ccb.js"><link rel="prefetch" href="/assets/js/66.74665605.js"><link rel="prefetch" href="/assets/js/67.072c35ca.js"><link rel="prefetch" href="/assets/js/68.764ab8cb.js"><link rel="prefetch" href="/assets/js/69.6a27592a.js"><link rel="prefetch" href="/assets/js/7.9a5c64fa.js"><link rel="prefetch" href="/assets/js/70.2e7f3527.js"><link rel="prefetch" href="/assets/js/71.c6365fbe.js"><link rel="prefetch" href="/assets/js/72.15cfe1be.js"><link rel="prefetch" href="/assets/js/73.d56ee920.js"><link rel="prefetch" href="/assets/js/74.f848ccac.js"><link rel="prefetch" href="/assets/js/75.905f5556.js"><link rel="prefetch" href="/assets/js/76.49d98a04.js"><link rel="prefetch" href="/assets/js/77.4b62003f.js"><link rel="prefetch" href="/assets/js/78.5a4046ff.js"><link rel="prefetch" href="/assets/js/79.eb3ec067.js"><link rel="prefetch" href="/assets/js/8.bccf8145.js"><link rel="prefetch" href="/assets/js/80.c8247597.js"><link rel="prefetch" href="/assets/js/81.69952221.js"><link rel="prefetch" href="/assets/js/82.4439fbe3.js"><link rel="prefetch" href="/assets/js/83.df1321d3.js"><link rel="prefetch" href="/assets/js/84.23d01b47.js"><link rel="prefetch" href="/assets/js/85.c983047a.js"><link rel="prefetch" href="/assets/js/86.29b0f2d4.js"><link rel="prefetch" href="/assets/js/87.12e2e192.js"><link rel="prefetch" href="/assets/js/88.fb19aa58.js"><link rel="prefetch" href="/assets/js/89.ee2be7d8.js"><link rel="prefetch" href="/assets/js/9.ce1180ae.js"><link rel="prefetch" href="/assets/js/90.479f4d9d.js"><link rel="prefetch" href="/assets/js/91.619e0c8d.js"><link rel="prefetch" href="/assets/js/92.ae858703.js"><link rel="prefetch" href="/assets/js/93.f90a7ae1.js"><link rel="prefetch" href="/assets/js/94.8894adb4.js"><link rel="prefetch" href="/assets/js/95.683396f3.js"><link rel="prefetch" href="/assets/js/96.f65dc164.js"><link rel="prefetch" href="/assets/js/97.75bd77e0.js"><link rel="prefetch" href="/assets/js/98.892b530a.js"><link rel="prefetch" href="/assets/js/99.7d033614.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9ad7bc48.css">
  <script>function hasClass(obj, cls) {
	return obj.className.match(new RegExp('(\\s|^)' + cls + '(\\s|$)'));
}

function addClass(obj, cls) {
	if (!this.hasClass(obj, cls)) obj.className += " " + cls;
}

function removeClass(obj, cls) {
	if (hasClass(obj, cls)) {
		var reg = new RegExp('(\\s|^)' + cls + '(\\s|$)');
		obj.className = obj.className.replace(reg, ' ');
	}
}

function toggleClass(obj,cls){
	if(hasClass(obj,cls)){
		removeClass(obj, cls);
	}else{
		addClass(obj, cls);
	}
}
function openSlider() {
	let node = document.querySelector(".theme-container");
	toggleClass(node, 'sidebar-open')
}
</script>
</head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button" onclick="openSlider()"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active">   </a>  <div class="links" style="max-width: 1309px; background: rgb(255, 255, 255);"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value="" class="" placeholder=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div><a href="/docs/base.html" class="nav-link">åŸºç¡€ç¯‡
      </a></div></div><div class="nav-item"><div><a href="/docs/simply.html" class="nav-link">âœ¨è¿›é˜¶ç¯‡
      </a></div></div><div class="nav-item"><div><a href="/excellent-docs/1-HTMLæ¨¡å—.html" class="nav-link">ğŸ”¥ç²¾é€‰ç¯‡
      </a></div></div><div class="nav-item"><div><a href="/docs/handwritten.html" class="nav-link">æ‰‹å†™ç¯‡
      </a></div></div><div class="nav-item"><div><a href="/qa/1-å‰ç«¯100é¢˜è‡ªæ£€.html" class="nav-link">è‡ªæ£€ç¯‡
      </a></div></div><div class="nav-item"><div><a href="/docs/questions.html" class="nav-link">é—®é¢˜ç¯‡
      </a></div></div><div class="nav-item"><div><a href="/interview-exp/å‰ç«¯é¢ç»æ±‡æ€».html" class="nav-link">é¢ç»ç¯‡
      </a></div></div><div class="nav-item"><div><a href="/days/æ¯æ—¥ä¸€é¢˜.html" class="nav-link">æ¯æ—¥ä¸€é¢˜
      </a></div></div><div class="nav-item"><div><a href="/docs/design-pattern.html" class="nav-link router-link-exact-active router-link-active" aria-current="page">è®¾è®¡æ¨¡å¼
      </a></div></div><div class="nav-item"><div><a href="/principle-docs/comprehensive/01-è™šæ‹ŸDOMåŸç†åˆ†æ.html" class="nav-link">åŸç†ç¯‡
      </a></div></div><div class="nav-item"><div><a href="/docs/detail-expain.html" class="nav-link">ç»¼åˆ
      </a></div></div><div class="nav-item"><div><a href="/algorithm-interview/note/01-å¿«é€Ÿä¸Šæ‰‹â€”â€”ä»0åˆ°1æŒæ¡ç®—æ³•é¢è¯•éœ€è¦çš„æ•°æ®ç»“æ„ï¼ˆä¸€ï¼‰.html" class="nav-link">ç®—æ³•ç¯‡
      </a></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ‹“å±•é˜…è¯»" class="dropdown-title"><span class="title">æ‹“å±•é˜…è¯»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display: none;"><li class="dropdown-item"><h4>ä¸“é¢˜</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-base-docs/compute-docs/Linux.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        å‰ç«¯åŸºç¡€
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-mobile-docs/h5-docs/1-å¤§å‚ H5 å¼€å‘æ¦‚è¿°.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        ç§»åŠ¨ç«¯
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-css-inspiration-docs/css-docs/note/01-æµè§ˆå™¨.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        CSS
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-vue-docs/learn-vue-base/base/1-Vue CLI 3 é¡¹ç›®æ„å»ºåŸºç¡€.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        Vue
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-react-docs/react-web-action/01-å‰ç«¯å¼€å‘çš„å››ä¸ªæ—¶ä»£.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        React
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-engineering-docs/docs/npm-script.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        å‰ç«¯å·¥ç¨‹
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-micro-docs/docs/01-å¾®å‰ç«¯çš„è¯ç”Ÿ.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        å¾®å‰ç«¯
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-nodejs-docs/nodejs-docs/base/01-ç¯å¢ƒæ­å»º.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        NodeæŒ‡å—
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-ts-axios-docs/ts-axios/chapter1/" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        Typesctipt
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-algorithm-docs/algorithm/prepare/01-å¦‚ä½•ç³»ç»Ÿé«˜æ•ˆåœ°å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        æ•°æ®ç»“æ„ä¸ç®—æ³•
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li></ul></li><li class="dropdown-item"><h4>å…¶ä»–</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><div><a href="http://interview.poetries.top/fe-blog-docs/blog-docs/javascript/-Ajaxæ€»ç»“ç¯‡.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        æ—¥å¸¸ç§¯ç´¯
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="http://blog.poetries.top/archives/" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        åšå®¢æ–‡ç« 
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li><li class="dropdown-subitem"><div><a href="https://blog.poetries.top/css-reference" target="_blank" rel="noopener noreferrer" class="nav-link external"><div>
        CSSå¯è§†åŒ–
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div></a></div></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->   <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/principle-docs/vue/01-ä»æºç è§£è¯»Vueç”Ÿå‘½å‘¨æœŸ.html" class="sidebar-link">ä»æºç è§£è¯»Vueç”Ÿå‘½å‘¨æœŸ</a></li><li><a href="/principle-docs/vue/02-ç»„ä»¶çš„æœ¬è´¨.html" class="sidebar-link">ç»„ä»¶çš„æœ¬è´¨</a></li><li><a href="/principle-docs/vue/03-æœ‰çŠ¶æ€ç»„ä»¶çš„è®¾è®¡.html" class="sidebar-link">æœ‰çŠ¶æ€ç»„ä»¶çš„è®¾è®¡</a></li><li><a href="/principle-docs/vue/04-è®¾è®¡ VNode.html" class="sidebar-link">è®¾è®¡ VNode</a></li><li><a href="/principle-docs/vue/05-è¾…åŠ©åˆ›å»º VNode çš„ h å‡½æ•°.html" class="sidebar-link">è¾…åŠ©åˆ›å»º VNode çš„ h å‡½æ•°</a></li><li><a href="/principle-docs/vue/06-è‡ªå®šä¹‰æ¸²æŸ“å™¨å’Œå¼‚æ­¥æ¸²æŸ“.html" class="active sidebar-link">è‡ªå®šä¹‰æ¸²æŸ“å™¨å’Œå¼‚æ­¥æ¸²æŸ“</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/principle-docs/vue/06-è‡ªå®šä¹‰æ¸²æŸ“å™¨å’Œå¼‚æ­¥æ¸²æŸ“.html#è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„åŸç†" class="sidebar-link">è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„åŸç†</a></li><li class="sidebar-sub-header"><a href="/principle-docs/vue/06-è‡ªå®šä¹‰æ¸²æŸ“å™¨å’Œå¼‚æ­¥æ¸²æŸ“.html#è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„åº”ç”¨" class="sidebar-link">è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„åº”ç”¨</a></li><li class="sidebar-sub-header"><a href="/principle-docs/vue/06-è‡ªå®šä¹‰æ¸²æŸ“å™¨å’Œå¼‚æ­¥æ¸²æŸ“.html#references" class="sidebar-link">References</a></li></ul></li><li><a href="/principle-docs/vue/07-æ¸²æŸ“å™¨ä¹‹æŒ‚è½½.html" class="sidebar-link">æ¸²æŸ“å™¨ä¹‹æŒ‚è½½</a></li><li><a href="/principle-docs/vue/08-æ¸²æŸ“å™¨çš„æ ¸å¿ƒ Diff ç®—æ³•.html" class="sidebar-link">æ¸²æŸ“å™¨çš„æ ¸å¿ƒ Diff ç®—æ³•</a></li><li><a href="/principle-docs/vue/09-æ¸²æŸ“å™¨ä¹‹patch.html" class="sidebar-link">æ¸²æŸ“å™¨ä¹‹patch</a></li><li><a href="/principle-docs/vue/10-å›¾è§£ Vue å“åº”å¼åŸç†.html" class="sidebar-link">å›¾è§£ Vue å“åº”å¼åŸç†</a></li><li><a href="/principle-docs/vue/11-å›¾è§£ Vue å¼‚æ­¥æ›´æ–°.html" class="sidebar-link">å›¾è§£ Vue å¼‚æ­¥æ›´æ–°</a></li><li><a href="/principle-docs/vue/12-å‰–æ Vue å†…éƒ¨è¿è¡Œæœºåˆ¶.html" class="sidebar-link">å‰–æ Vue å†…éƒ¨è¿è¡Œæœºåˆ¶</a></li><li><a href="/principle-docs/vue/13-vueå“åº”å¼åŸç†æ¨¡æ‹Ÿ.html" class="sidebar-link">vueå“åº”å¼åŸç†æ¨¡æ‹Ÿ</a></li><li><a href="/principle-docs/vue/14-vueçŠ¶æ€ç®¡ç†ä¹‹vuex.html" class="sidebar-link">vueçŠ¶æ€ç®¡ç†ä¹‹vuex</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/principle-docs/react/01-React-routeråŸç†.html" class="sidebar-link">React</a></li><li><a href="/principle-docs/react/02-Dvaæ€»ç»“.html" class="sidebar-link">Dvaæ€»ç»“</a></li><li><a href="/principle-docs/react/03-MobXæ€»ç»“.html" class="sidebar-link">MobXæ€»ç»“</a></li><li><a href="/principle-docs/react/04-æµ…æredux-sagaä¸­é—´ä»¶åŠç”¨æ³•.html" class="sidebar-link">æµ…æredux</a></li><li><a href="/principle-docs/react/05-Reduxä¹‹æµ…æä¸­é—´ä»¶.html" class="sidebar-link">Reduxä¹‹æµ…æä¸­é—´ä»¶</a></li><li><a href="/principle-docs/react/06-Reduxä¹‹æºç åˆ†æ.html" class="sidebar-link">Reduxä¹‹æºç åˆ†æ</a></li><li><a href="/principle-docs/react/07-Reduxä¹‹å¼‚æ­¥ActionåŠæ“ä½œ.html" class="sidebar-link">Reduxä¹‹å¼‚æ­¥ActionåŠæ“ä½œ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/principle-docs/webpack/01-Webpack4æ‰“åŒ…æœºåˆ¶åŸç†è§£æ.html" class="sidebar-link">Webpack4æ‰“åŒ…æœºåˆ¶åŸç†è§£æ</a></li><li><a href="/principle-docs/webpack/02-webpackä¸­çš„HMRçƒ­æ›´æ–°åŸç†å‰–æ.html" class="sidebar-link">webpackä¸­çš„HMRçƒ­æ›´æ–°åŸç†å‰–æ</a></li><li><a href="/principle-docs/webpack/03-ä»æºç çª¥æ¢Webpack4.xåŸç†.html" class="sidebar-link">ä»æºç çª¥æ¢Webpack4.xåŸç†</a></li><li><a href="/principle-docs/webpack/04-å®ç°webpackå°å‹æ‰“åŒ…å·¥å…·.html" class="sidebar-link">å®ç°webpackå°å‹æ‰“åŒ…å·¥å…·</a></li><li><a href="/principle-docs/webpack/05-BabelåŸç†åŠå…¶ä½¿ç”¨.html" class="sidebar-link">BabelåŸç†åŠå…¶ä½¿ç”¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ç»¼åˆ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/principle-docs/comprehensive/01-è™šæ‹ŸDOMåŸç†åˆ†æ.html" class="sidebar-link">è™šæ‹ŸDOMåŸç†åˆ†æ</a></li><li><a href="/principle-docs/comprehensive/02-setTimeoutå®ç°åŸç†å’Œä½¿ç”¨æ³¨æ„.html" class="sidebar-link">setTimeoutå®ç°åŸç†å’Œä½¿ç”¨æ³¨æ„</a></li><li><a href="/principle-docs/comprehensive/03-æµ…æPromiseåŸç†.html" class="sidebar-link">æµ…æPromiseåŸç†</a></li><li><a href="/principle-docs/comprehensive/04-æµè§ˆå™¨æ¸²æŸ“åŸç†.html" class="sidebar-link">æµè§ˆå™¨æ¸²æŸ“åŸç†</a></li><li><a href="/principle-docs/comprehensive/05-å‰ç«¯é¢è¯•ä¹‹MVVMæµ…æ.html" class="sidebar-link">å‰ç«¯é¢è¯•ä¹‹MVVMæµ…æ</a></li><li><a href="/principle-docs/comprehensive/06-å‰ç«¯é¢è¯•ä¹‹ç»„ä»¶åŒ–.html" class="sidebar-link">å‰ç«¯é¢è¯•ä¹‹ç»„ä»¶åŒ–</a></li><li><a href="/principle-docs/comprehensive/07-è™šæ‹ŸDOMï¼ˆä¸€ï¼‰.html" class="sidebar-link">è™šæ‹ŸDOMï¼ˆä¸€ï¼‰</a></li><li><a href="/principle-docs/comprehensive/08-è™šæ‹ŸDOMï¼ˆäºŒï¼‰.html" class="sidebar-link">è™šæ‹ŸDOMï¼ˆäºŒï¼‰</a></li><li><a href="/principle-docs/comprehensive/09-å‰ç«¯æ€§èƒ½ä¹‹Performance.html" class="sidebar-link">å‰ç«¯æ€§èƒ½ä¹‹Performance</a></li></ul></section></li></ul> </aside> <main class="page"> <div id="container" class="theme-default-content"><div class="content__default"><blockquote><p>åœ¨æœ¬ç« ä¹‹å‰ï¼Œæˆ‘ä»¬èŠ±è´¹äº†å¾ˆå¤§çš„ç¯‡å¹…å…¨é¢çš„è®²è§£äº†ä¸€ä¸ªæ™®é€šæ¸²æŸ“å™¨çš„å®ç°åŸç†ï¼Œå®ƒå¯ä»¥å°† <code>Virtual DOM</code> æ¸²æŸ“ä¸º Web å¹³å°çš„çœŸå® DOMã€‚æœ¬ç« æˆ‘ä»¬å°†åœ¨ä¸Šä¸€ç« çš„åŸºç¡€ä¸Šè®²è§£æ›´åŠ é«˜çº§çš„æ¸²æŸ“å™¨ï¼šè‡ªå®šä¹‰æ¸²æŸ“å™¨(<code>Custom renderer</code>)ä»¥åŠå¼‚æ­¥æ¸²æŸ“ã€‚</p></blockquote> <h2 id="è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„åŸç†"><a href="#è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„åŸç†" class="header-anchor">#</a> è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„åŸç†</h2> <p>æ¸²æŸ“å™¨æ˜¯å›´ç»• <code>Virtual DOM</code> è€Œå­˜åœ¨çš„ï¼Œåœ¨ Web å¹³å°ä¸‹å®ƒèƒ½å¤ŸæŠŠ <code>Virtual DOM</code> æ¸²æŸ“ä¸ºæµè§ˆå™¨ä¸­çš„çœŸå® DOM å¯¹è±¡ï¼Œé€šè¿‡å‰é¢å‡ ç« çš„è®²è§£ï¼Œç›¸ä¿¡ä½ å·²ç»èƒ½å¤Ÿè®¤è¯†åˆ°æ¸²æŸ“å™¨çš„å®ç°åŸç†ï¼Œä¸ºäº†èƒ½å¤Ÿå°† <code>Virtual DOM</code> æ¸²æŸ“ä¸ºçœŸå® DOMï¼Œæ¸²æŸ“å™¨å†…éƒ¨éœ€è¦è°ƒç”¨æµè§ˆå™¨æä¾›çš„ DOM ç¼–ç¨‹æ¥å£ï¼Œä¸‹é¢ç½—åˆ—äº†åœ¨å‡ºä¸Šä¸€ç« ä¸­æˆ‘ä»¬æ›¾ç»ä½¿ç”¨åˆ°çš„é‚£äº›æµè§ˆå™¨ä¸ºæˆ‘ä»¬æä¾›çš„ DOM ç¼–ç¨‹æ¥å£ï¼š</p> <ul><li><code>document.createElement / createElementNS</code>ï¼šåˆ›å»ºæ ‡ç­¾å…ƒç´ ã€‚</li> <li><code>document.createTextNode</code>ï¼šåˆ›å»ºæ–‡æœ¬å…ƒç´ ã€‚</li> <li><code>el.nodeValue</code>ï¼šä¿®æ”¹æ–‡æœ¬å…ƒç´ çš„å†…å®¹ã€‚</li> <li><code>el.removeChild</code>ï¼šç§»é™¤ DOM å…ƒç´ ã€‚</li> <li><code>el.insertBefore</code>ï¼šæ’å…¥ DOM å…ƒç´ ã€‚</li> <li><code>el.appendChild</code>ï¼šè¿½åŠ  DOM å…ƒç´ ã€‚</li> <li><code>el.parentNode</code>ï¼šè·å–çˆ¶å…ƒç´ ã€‚</li> <li><code>el.nextSibling</code>ï¼šè·å–ä¸‹ä¸€ä¸ªå…„å¼Ÿå…ƒç´ ã€‚</li> <li><code>document.querySelector</code>ï¼šæŒ‚è½½ <code>Portal</code> ç±»å‹çš„ <code>VNode</code> æ—¶ï¼Œç”¨å®ƒæŸ¥æ‰¾æŒ‚è½½ç‚¹ã€‚</li></ul> <p>è¿™äº› DOM ç¼–ç¨‹æ¥å£å®Œæˆäº† Web å¹³å°(æˆ–è€…è¯´æµè§ˆå™¨)ä¸‹å¯¹ DOM çš„å¢åŠ ã€åˆ é™¤ã€æŸ¥æ‰¾çš„å·¥ä½œï¼Œå®ƒæ˜¯ Web å¹³å°ç‹¬æœ‰çš„ï¼Œæ‰€ä»¥å¦‚æœæ¸²æŸ“å™¨è‡ªèº«å¼ºä¾èµ–äºè¿™äº›æ–¹æ³•(å‡½æ•°)ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¸²æŸ“å™¨ä¹Ÿåªèƒ½å¤Ÿè¿è¡Œåœ¨æµè§ˆå™¨ä¸­ï¼Œå®ƒä¸å…·å¤‡è·¨å¹³å°çš„èƒ½åŠ›ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœæƒ³è¦å®ç°ä¸€ä¸ªå¹³å°æ— å…³çš„æ¸²æŸ“å™¨ï¼Œé‚£ä¹ˆæ¸²æŸ“å™¨è‡ªèº«å¿…é¡»ä¸èƒ½å¼ºä¾èµ–äºä»»ä½•ä¸€ä¸ªå¹³å°ä¸‹ç‰¹æœ‰çš„æ¥å£ï¼Œè€Œæ˜¯åº”è¯¥æä¾›ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œå°† â€œDOMâ€ çš„å¢åŠ ã€åˆ é™¤ã€æŸ¥æ‰¾ç­‰æ“ä½œä½¿ç”¨æŠ½è±¡æ¥å£å®ç°ï¼Œå…·ä½“åˆ°æŸä¸ªå¹³å°ä¸‹æ—¶ï¼Œç”±å¼€å‘è€…å†³å®šå¦‚ä½•ä½¿ç”¨è¯¥å¹³å°ä¸‹çš„æ¥å£å®ç°è¿™ä¸ªæŠ½è±¡å±‚ï¼Œè¿™å°±æ˜¯è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„æœ¬è´¨ã€‚</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>åœ¨ä¸‹æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ â€œå…ƒç´ â€ ä¸€è¯æŒ‡ä»£æ‰€æœ‰å¹³å°ä¸­çš„å…ƒç´ å¯¹è±¡ï¼Œä¾‹å¦‚åœ¨ Web å¹³å°ä¸‹ â€œå…ƒç´ â€ ä¸€è¯æŒ‡çš„å°±æ˜¯ DOM å…ƒç´ ã€‚</p></div> <p>æ¸²æŸ“å™¨é™¤äº†è´Ÿè´£å¯¹å…ƒç´ çš„å¢åŠ ã€åˆ é™¤ã€æŸ¥æ‰¾ä¹‹å¤–ï¼Œå®ƒè¿˜è´Ÿè´£ä¿®æ”¹æŸä¸ªç‰¹å®šå…ƒç´ è‡ªèº«çš„å±æ€§/ç‰¹æ€§ï¼Œä¾‹å¦‚ Web å¹³å°ä¸­å…ƒç´ å…·æœ‰ <code>id</code>ã€<code>href</code> ç­‰å±æ€§/ç‰¹æ€§ã€‚åœ¨ä¸Šä¸€ç« ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>patchData</code> å‡½æ•°æ¥å®Œæˆå…ƒç´ è‡ªèº«å±æ€§/ç‰¹æ€§çš„æ›´æ–°ï¼Œå¦‚ä¸‹ä»£ç ç”¨äºä¿®æ”¹ä¸€ä¸ªå…ƒç´ çš„ç±»ååˆ—è¡¨(<code>class</code>)ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// patchData.js</span>
<span class="token keyword">case</span> <span class="token string">'class'</span><span class="token punctuation">:</span>
  el<span class="token punctuation">.</span>className <span class="token operator">=</span> nextValue
  <span class="token keyword">break</span>
</code></pre></div><p>è¿™æ®µä»£ç åŒæ ·ä¹Ÿåªèƒ½è¿è¡Œåœ¨æµè§ˆå™¨ä¸­ï¼Œä¸ºäº†æ¸²æŸ“å™¨èƒ½å¤Ÿè·¨å¹³å°ï¼Œé‚£ä¹ˆä¿®æ”¹ä¸€ä¸ªå…ƒç´ è‡ªèº«çš„å±æ€§/ç‰¹æ€§çš„å·¥ä½œä¹Ÿåº”è¯¥ä½œä¸ºå¯è‡ªå®šä¹‰çš„ä¸€éƒ¨åˆ†æ‰è¡Œï¼Œå› æ­¤ï¼Œä¸€ä¸ªè·¨å¹³å°çš„æ¸²æŸ“å™¨åº”è¯¥è‡³å°‘åŒ…å«ä¸¤ä¸ªå¯è‡ªå®šä¹‰çš„éƒ¨åˆ†ï¼š<strong>å¯è‡ªå®šä¹‰å…ƒç´ çš„å¢åŠ ã€åˆ é™¤ã€æŸ¥æ‰¾ç­‰æ“ä½œ</strong>ã€<strong>å¯è‡ªå®šä¹‰å…ƒç´ è‡ªèº«å±æ€§/ç‰¹æ€§çš„ä¿®æ”¹æ“ä½œ</strong>ã€‚è¿™æ ·å¯¹äºä»»ä½•ä¸€ä¸ªå…ƒç´ æ¥è¯´ï¼Œå®ƒçš„å¢åˆ æ”¹æŸ¥éƒ½å·²ç»å˜æˆäº†å¯è‡ªå®šä¹‰çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬åªéœ€è¦â€œå‘ŠçŸ¥â€æ¸²æŸ“å™¨åœ¨å¯¹å…ƒç´ è¿›è¡Œå¢åˆ æ”¹æŸ¥æ—¶åº”è¯¥åšå“ªäº›å…·ä½“çš„æ“ä½œå³å¯ã€‚</p> <p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±ç€æ‰‹å°†ä¸€ä¸ªæ™®é€šæ¸²æŸ“å™¨ä¿®æ”¹ä¸ºæ‹¥æœ‰è‡ªå®šä¹‰èƒ½åŠ›çš„æ¸²æŸ“å™¨ï¼Œåœ¨ä¹‹å‰çš„è®²è§£ä¸­ï¼Œæˆ‘ä»¬å°†æ¸²æŸ“å™¨çš„ä»£ç å­˜æ”¾åœ¨äº† <code>render.js</code> æ–‡ä»¶ä¸­ï¼Œå¦‚ä¸‹æ˜¯æ•´ä¸ª <code>render.js</code> æ–‡ä»¶çš„æ ¸å¿ƒä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å¯¼å‡ºæ¸²æŸ“å™¨</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token comment">// ========== æŒ‚è½½ ==========</span>

<span class="token keyword">function</span> <span class="token function">mount</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG<span class="token punctuation">,</span> refNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mountElement</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG<span class="token punctuation">,</span> refNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mountText</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mountFragment</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mountPortal</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mountComponent</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mountStatefulComponent</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mountFunctionalComponent</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token comment">// ========== patch ==========</span>

<span class="token keyword">function</span> <span class="token function">patch</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">replaceVNode</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">patchElement</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">patchChildren</span><span class="token punctuation">(</span>
  <span class="token parameter">prevChildFlags<span class="token punctuation">,</span>
  nextChildFlags<span class="token punctuation">,</span>
  prevChildren<span class="token punctuation">,</span>
  nextChildren<span class="token punctuation">,</span>
  container</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">patchText</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">patchFragment</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">patchPortal</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">patchComponent</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token comment">// https://en.wikipedia.org/wiki/Longest_increasing_subsequence</span>
<span class="token keyword">function</span> <span class="token function">lis</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
</code></pre></div><p>è§‚å¯Ÿå¦‚ä¸Šä»£ç ç»“æ„ï¼Œå¯ä»¥å‘ç°ä¸€ä¸ªæ¸²æŸ“å™¨ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š<code>mount</code> å’Œ <code>patch</code>ã€‚åœ¨ <code>mount</code> å’Œ <code>patch</code> ä¸­éƒ½ä¼šè°ƒç”¨æµè§ˆå™¨æä¾›çš„ DOM ç¼–ç¨‹æ¥å£æ¥å®ŒæˆçœŸæ­£çš„æ¸²æŸ“å·¥ä½œã€‚ä¸ºäº†å°†æµè§ˆå™¨æä¾›çš„ DOM ç¼–ç¨‹æ¥å£ä¸æ¸²æŸ“å™¨çš„ä»£ç åˆ†ç¦»ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¦‚ä¸Šä»£ç å°è£…åˆ°ä¸€ä¸ªå«åš <code>createRenderer</code> çš„å‡½æ•°ä¸­ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted">Â </div><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token comment">// ========== æŒ‚è½½ ==========</span>

  <span class="token keyword">function</span> <span class="token function">mount</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG<span class="token punctuation">,</span> refNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">mountElement</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG<span class="token punctuation">,</span> refNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">mountText</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">mountFragment</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">mountPortal</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">mountComponent</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">mountStatefulComponent</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">mountFunctionalComponent</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token comment">// ========== patch ==========</span>

  <span class="token keyword">function</span> <span class="token function">patch</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">replaceVNode</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">patchElement</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">patchChildren</span><span class="token punctuation">(</span>
    <span class="token parameter">prevChildFlags<span class="token punctuation">,</span>
    nextChildFlags<span class="token punctuation">,</span>
    prevChildren<span class="token punctuation">,</span>
    nextChildren<span class="token punctuation">,</span>
    container</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">patchText</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">patchFragment</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">patchPortal</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">patchComponent</span><span class="token punctuation">(</span><span class="token parameter">prevVNode<span class="token punctuation">,</span> nextVNode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// https://en.wikipedia.org/wiki/Longest_increasing_subsequence</span>
<span class="token keyword">function</span> <span class="token function">lis</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
</code></pre></div><p><code>createRenderer</code> å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯ä¹‹å‰çš„ <code>render</code> å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´è°ƒç”¨ <code>createRenderer</code> å‡½æ•°å¯ä»¥åˆ›å»ºä¸€ä¸ªæ¸²æŸ“å™¨ã€‚<code>createRenderer</code> å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•° <code>options</code>ï¼Œè¯¥å‚æ•°çš„ä½œç”¨æ˜¯ä¸ºäº†å…è®¸å¤–ç•Œæœ‰èƒ½åŠ›å°†æ“ä½œå…ƒç´ çš„å…·ä½“å®ç°ä»¥é€‰é¡¹çš„æ–¹å¼ä¼ é€’è¿›æ¥ã€‚</p> <p>é‚£ä¹ˆ <code>options</code> å‚æ•°ä¸­åº”è¯¥åŒ…å«å“ªäº›é€‰é¡¹å‘¢ï¼Ÿå…¶å®å‰é¢æˆ‘ä»¬å·²ç»åˆ†æè¿‡äº†ï¼Œåªè¦æ˜¯éœ€è¦è‡ªå®šä¹‰çš„éƒ¨åˆ†å°±åº”è¯¥ä½œä¸ºé€‰é¡¹ä¼ é€’è¿›æ¥ï¼Œæ‰€ä»¥å‚æ•° <code>options</code> ä¸­è‡³å°‘è¦åŒ…å«ä¸¤éƒ¨åˆ†ï¼šä¸€éƒ¨åˆ†æ˜¯å…ƒç´ çš„å¢åŠ ã€åˆ é™¤ã€æŸ¥æ‰¾ï¼›å¦å¤–ä¸€éƒ¨åˆ†æ˜¯å…ƒç´ çš„ä¿®æ”¹ï¼Œå³ <code>patchData</code> å‡½æ•°ã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// nodeOps æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«äº†æ‰€æœ‰ç”¨äºæ“ä½œèŠ‚ç‚¹çš„æ–¹æ³•</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">createText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
    <span class="token comment">// more...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  patchData
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>åŸºäºæ­¤ï¼Œåœ¨ <code>createRenderer</code> å‡½æ•°å†…éƒ¨æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è§£æ„çš„æ–¹å¼ä» <code>options</code> å‚æ•°ä¸­å¾—åˆ°å…·ä½“çš„æ–¹æ³•ï¼š</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// options.nodeOps é€‰é¡¹ä¸­åŒ…å«äº†æœ¬ç« å¼€å¤´ç½—åˆ—çš„æ‰€æœ‰æ“ä½œ DOM çš„æ–¹æ³•</span>
  <span class="token comment">// options.patchData é€‰é¡¹å°±æ˜¯ patchData å‡½æ•°</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>
    nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      createElement<span class="token punctuation">:</span> platformCreateElement<span class="token punctuation">,</span>
      createText<span class="token punctuation">:</span> platformCreateText<span class="token punctuation">,</span>
      setText<span class="token punctuation">:</span> platformSetText<span class="token punctuation">,</span> <span class="token comment">// ç­‰ä»·äº Web å¹³å°çš„ el.nodeValue</span>
      appendChild<span class="token punctuation">:</span> platformAppendChild<span class="token punctuation">,</span>
      insertBefore<span class="token punctuation">:</span> platformInsertBefore<span class="token punctuation">,</span>
      removeChild<span class="token punctuation">:</span> platformRemoveChild<span class="token punctuation">,</span>
      parentNode<span class="token punctuation">:</span> platformParentNode<span class="token punctuation">,</span>
      nextSibling<span class="token punctuation">:</span> platformNextSibling<span class="token punctuation">,</span>
      querySelector<span class="token punctuation">:</span> platformQuerySelector
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    patchData<span class="token punctuation">:</span> platformPatchData
  <span class="token punctuation">}</span> <span class="token operator">=</span> options

  <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

  <span class="token comment">// ========== æŒ‚è½½ ==========</span>
  <span class="token comment">// çœç•¥...</span>

  <span class="token comment">// ========== patch ==========</span>
  <span class="token comment">// çœç•¥...</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œ<code>options.nodeOps</code> é€‰é¡¹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰ç”¨äºå¯¹å…ƒç´ è¿›è¡Œå¢ã€åˆ ã€æŸ¥çš„æ“ä½œï¼Œ<code>options.patchData</code> é€‰é¡¹æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå¤„ç†æŸä¸ªç‰¹å®šå…ƒç´ ä¸Šçš„å±æ€§/ç‰¹å®šï¼Œè¿™äº›å†…å®¹éƒ½æ˜¯åœ¨åˆ›å»ºæ¸²æŸ“å™¨æ—¶ç”±å¤–ç•Œæ¥å†³å®šçš„ã€‚</p> <p>æ¥ä¸‹æ¥æˆ‘ä»¬è¦åšçš„å°±æ˜¯å°†æ¸²æŸ“å™¨ä¸­åŸæœ¬ä½¿ç”¨äº† Web å¹³å°è¿›è¡Œ DOM æ“ä½œçš„åœ°æ–¹ä¿®æ”¹æˆä½¿ç”¨é€šè¿‡è§£æ„å¾—åˆ°çš„å‡½æ•°è¿›è¡Œæ›¿ä»£ï¼Œä¾‹å¦‚åœ¨åˆ›å»º DOM å…ƒç´ æ—¶ï¼ŒåŸæ¥çš„å®ç°å¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">mountElement</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG<span class="token punctuation">,</span> refNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  isSVG <span class="token operator">=</span> isSVG <span class="token operator">||</span> vnode<span class="token punctuation">.</span>flags <span class="token operator">&amp;</span> VNodeFlags<span class="token punctuation">.</span><span class="token constant">ELEMENT_SVG</span>
  <span class="token keyword">const</span> el <span class="token operator">=</span> isSVG
    <span class="token operator">?</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> vnode<span class="token punctuation">.</span>tag<span class="token punctuation">)</span>
    <span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>vnode<span class="token punctuation">.</span>tag<span class="token punctuation">)</span>
  <span class="token comment">// çœç•¥...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç°åœ¨æˆ‘ä»¬åº”è¯¥ä½¿ç”¨ <code>platformCreateElement</code> å‡½æ•°æ›¿ä»£ <code>document.createElement(NS)</code>ï¼š</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><div class="highlighted">Â </div><br><br><br></div><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">mountElement</span><span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> container<span class="token punctuation">,</span> isSVG<span class="token punctuation">,</span> refNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  isSVG <span class="token operator">=</span> isSVG <span class="token operator">||</span> vnode<span class="token punctuation">.</span>flags <span class="token operator">&amp;</span> VNodeFlags<span class="token punctuation">.</span><span class="token constant">ELEMENT_SVG</span>
  <span class="token keyword">const</span> el <span class="token operator">=</span> <span class="token function">platformCreateElement</span><span class="token punctuation">(</span>vnode<span class="token punctuation">.</span>tag<span class="token punctuation">,</span> isSVG<span class="token punctuation">)</span>
  <span class="token comment">// çœç•¥...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç±»ä¼¼çš„ï¼Œå…¶ä»–æ‰€æœ‰æ¶‰åŠ DOM æ“ä½œçš„åœ°æ–¹éƒ½åº”è¯¥ä½¿ç”¨è¿™äº›é€šè¿‡è§£æ„å¾—åˆ°çš„æŠ½è±¡æ¥å£æ›¿ä»£ã€‚å½“è¿™éƒ¨åˆ†å·¥ä½œå®Œæˆä¹‹åï¼Œæ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯å¯¹è¿™äº›ç”¨äºæ“ä½œèŠ‚ç‚¹çš„æŠ½è±¡æ–¹æ³•è¿›è¡Œå®ç°ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼Œæˆ‘ä»¬å®ç°äº† Web å¹³å°ä¸‹åˆ›å»º DOM èŠ‚ç‚¹çš„æ–¹æ³•ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> isSVG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> isSVG
        <span class="token operator">?</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> tag<span class="token punctuation">)</span>
        <span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œä¸‹é¢è¿™æ¡è¯­å¥æ˜¯æˆ‘ä»¬ä¹‹å‰å®ç°çš„æ¸²æŸ“å™¨ä¸­ç”¨äºç§»é™¤æ—§ <code>children</code> ä¸­èŠ‚ç‚¹çš„ä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>container<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
</code></pre></div><p>ç°åœ¨æˆ‘ä»¬å°†ä¹‹æ›¿æ¢ä¸º <code>platformRemoveChild</code> å‡½æ•°ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">platformRemoveChild</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> prevVNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
</code></pre></div><p>ä¸ºäº†è®©è¿™æ®µä»£ç åœ¨ Web å¹³å°æ­£å¸¸å·¥ä½œï¼Œæˆ‘ä»¬éœ€è¦åœ¨åˆ›å»ºæ¸²æŸ“å™¨æ—¶å®ç° <code>nodeOps.removeChild</code> å‡½æ•°ï¼š</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> isSVG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> isSVG
        <span class="token operator">?</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> tag<span class="token punctuation">)</span>
        <span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>ä¹Ÿè®¸ä½ å·²ç»æƒ³åˆ°äº†ï¼Œå½“æˆ‘ä»¬å®ç°äº†æ‰€æœ‰ <code>nodeOps</code> ä¸‹çš„è§„å®šçš„æŠ½è±¡æ¥å£ä¹‹åï¼Œå®é™…ä¸Šå°±å®Œæˆäº†ä¸€ä¸ªé¢å‘ Web å¹³å°çš„æ¸²æŸ“å™¨ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> isSVG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> isSVG
        <span class="token operator">?</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> tag<span class="token punctuation">)</span>
        <span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">createText</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setText</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>nodeValue <span class="token operator">=</span> text
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parent<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">insertBefore</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child<span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> ref<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">parentNode</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> node<span class="token punctuation">.</span>parentNode
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">nextSibling</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> node<span class="token punctuation">.</span>nextSibling
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token parameter">selector</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å½“ç„¶äº†ï¼Œå¦‚ä¸Šä»£ç æ‰€åˆ›å»ºçš„æ¸²æŸ“å™¨åªèƒ½å¤Ÿå®Œæˆ Web å¹³å°ä¸­å¯¹ DOM çš„å¢åŠ ã€åˆ é™¤å’ŒæŸ¥æ‰¾çš„åŠŸèƒ½ï¼Œä¸ºäº†èƒ½å¤Ÿä¿®æ”¹ DOM å…ƒç´ è‡ªèº«çš„å±æ€§å’Œç‰¹æ€§ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨åˆ›å»ºæ¸²æŸ“å™¨æ—¶å°† <code>patchData</code> å‡½æ•°ä½œä¸ºé€‰é¡¹ä¼ é€’è¿‡å»ï¼Œå¥½åœ¨æˆ‘ä»¬ä¹‹å‰å·²ç»å°è£…äº† <code>patchData</code> å‡½æ•°ï¼Œç°åœ¨ç›´æ¥æ‹¿è¿‡æ¥ç”¨å³å¯ï¼š</p> <div class="language-js extra-class"><div class="highlight-lines"><div class="highlighted">Â </div><br><br><br><br><div class="highlighted">Â </div><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> patchData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./patchData'</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// çœç•¥...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  patchData
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>å®Œæ•´ä»£ç &amp;åœ¨çº¿ä½“éªŒåœ°å€ï¼š<a href="https://codesandbox.io/s/mq8v65qyry" target="_blank" rel="noopener noreferrer">https://codesandbox.io/s/mq8v65qyry<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <p>ä»¥ä¸Šæˆ‘ä»¬å°±å®Œæˆäº†å¯¹æ¸²æŸ“å™¨çš„æŠ½è±¡ï¼Œä½¿å®ƒæˆä¸ºä¸€ä¸ªå¹³å°æ— å…³çš„å·¥å…·ã€‚å¹¶åŸºäºæ­¤å®ç°äº†ä¸€ä¸ª Web å¹³å°çš„æ¸²æŸ“å™¨ï¼Œä¸“é—¨ç”¨äºæµè§ˆå™¨ç¯å¢ƒã€‚</p> <h2 id="è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„åº”ç”¨"><a href="#è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„åº”ç”¨" class="header-anchor">#</a> è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„åº”ç”¨</h2> <p><code>Vue3</code> æä¾›äº†ä¸€ä¸ªå«åš <code>@vue/runtime-test</code> çš„åŒ…ï¼Œå…¶ä½œç”¨æ˜¯æ–¹ä¾¿å¼€å‘è€…åœ¨æ—  DOM ç¯å¢ƒæ—¶æœ‰èƒ½åŠ›å¯¹ç»„ä»¶çš„æ¸²æŸ“å†…å®¹è¿›è¡Œæµ‹è¯•ï¼Œè¿™å®é™…ä¸Šå°±æ˜¯å¯¹è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„åº”ç”¨ã€‚æœ¬èŠ‚æˆ‘ä»¬å°è¯•æ¥å®ç°ä¸ <code>@vue/runtime-test</code> å…·æœ‰ç›¸åŒåŠŸèƒ½çš„æ¸²æŸ“å™¨ã€‚</p> <p>åŸç†å…¶å®å¾ˆç®€å•ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼Œè¿™æ˜¯ç”¨äº Web å¹³å°ä¸‹åˆ›å»ºçœŸå® DOM å…ƒç´ çš„ä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> isSVG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> isSVG
        <span class="token operator">?</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> tag<span class="token punctuation">)</span>
        <span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å…¶ä¸­ <code>nodeOps.createElement</code> å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªçœŸå®çš„ DOM å¯¹è±¡ï¼Œåœ¨å…¶å†…éƒ¨è°ƒç”¨çš„æ˜¯æµè§ˆå™¨ä¸ºæˆ‘ä»¬æä¾›çš„ <code>document.createElement/NS</code> å‡½æ•°ã€‚å®é™…ä¸Š <code>nodeOps.createElement</code> å‡½æ•°çš„çœŸæ­£æ„å›¾æ˜¯ï¼š<strong>åˆ›å»ºä¸€ä¸ªå…ƒç´ </strong>ï¼Œç„¶è€Œå¹¶æ²¡æœ‰è§„å®šè¿™ä¸ªå…ƒç´ åº”è¯¥ç”±è°æ¥åˆ›å»ºï¼Œæˆ–è¿™ä¸ªå…ƒç´ åº”è¯¥å…·æœ‰ä»€ä¹ˆæ ·çš„ç‰¹å¾ï¼Œè¿™å°±æ˜¯è‡ªå®šä¹‰çš„æ ¸å¿ƒæ‰€åœ¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å®Œå…¨ä½¿ <code>nodeOps.createElement</code> å‡½æ•°è¿”å›ä¸€ä¸ªæ™®é€šå¯¹è±¡æ¥ä»£æŒ‡ä¸€ä¸ªå…ƒç´ ï¼Œåç»­çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸºäºæˆ‘ä»¬æ‰€è§„å®šçš„å…ƒç´ è€Œè¿›è¡Œï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> customElement <span class="token operator">=</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> <span class="token string">'ELEMENT'</span><span class="token punctuation">,</span>
        tag
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> customElement
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬è‡ªè¡Œè§„å®šäº† <code>nodeOps.createElement</code> å‡½æ•°æ‰€è¿”å›çš„å…ƒç´ çš„æ ¼å¼ï¼Œå³ <code>customElement</code> å¯¹è±¡ï¼Œå®ƒåŒ…å«ä¸¤ä¸ªå±æ€§ï¼Œåˆ†åˆ«æ˜¯ ç”¨æ¥ä»£è¡¨å…ƒç´ ç±»å‹çš„ <code>type</code> å±æ€§ä»¥åŠç”¨æ¥ä»£è¡¨å…ƒç´ åç§°çš„ <code>tag</code> å±æ€§ã€‚è™½ç„¶çœ‹ä¸Šå»å¾ˆå¥‡æ€ªï¼Œä½†è¿™ç¡®å®æ˜¯ä¸€ä¸ªå®Œå…¨ç¬¦åˆè¦æ±‚çš„å®ç°ã€‚è¿™ä¹ˆåšçš„ç»“æœå°±æ˜¯ï¼š<strong><code>nodeOps.createElement</code> å‡½æ•°æ‰€åˆ›å»ºçš„å…ƒç´ ä¸æ¥è‡ªäºæµè§ˆå™¨çš„ DOM ç¼–ç¨‹æ¥å£ï¼Œæ›´ä¸æ¥è‡ªäºä»»ä½•å…¶ä»–å¹³å°çš„ API</strong>ï¼Œå› æ­¤ï¼Œå¦‚ä¸Šä»£ç æ‰€åˆ›å»ºçš„æ¸²æŸ“å™¨ä¹Ÿå°†æ˜¯ä¸€ä¸ªå¹³å°æ— å…³çš„æ¸²æŸ“å™¨ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ <code>@vue/runtime-test</code> å¯ä»¥è¿è¡Œåœ¨ <code>NodeJs</code> ä¸­çš„åŸå› ã€‚</p> <p>å½“ç„¶äº†ï¼Œå¦‚ä¸Šä»£ç ä¸­ <code>customElement</code> åªæœ‰ä¸¤ä¸ªå±æ€§ï¼Œå®é™…ä¸Šè¿™å¹¶ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œå³ä½¿å…ƒç´ çš„æ ¼å¼ç”±æˆ‘ä»¬è‡ªè¡Œå®šä¹‰ï¼Œä½†è¿˜æ˜¯è¦æœ‰ä¸€å®šçš„é™åˆ¶ï¼Œä¾‹å¦‚å…ƒç´ ä¼šæœ‰å­èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹ä¹Ÿéœ€è¦ä¿å­˜å¯¹çˆ¶èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œå…ƒç´ è‡ªèº«ä¹Ÿä¼šæœ‰å±æ€§/ç‰¹æ€§ç­‰ç­‰ã€‚ä¸€ä¸ªæœ€å°ä¸”å®Œæ•´çš„å…ƒç´ å®šä¹‰åº”è¯¥åŒ…å«ä»¥ä¸‹å±æ€§ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> customElement <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">,</span> <span class="token comment">// å…ƒç´ çš„ç±»å‹ï¼šELEMENT ---&gt; æ ‡ç­¾å…ƒç´ ï¼›TEXT ---&gt; æ–‡æœ¬</span>
  tag<span class="token punctuation">,</span> <span class="token comment">// å½“ type === 'ELEMENT' æ—¶ï¼Œtag å±æ€§ä¸ºæ ‡ç­¾åå­—</span>
  parentNode<span class="token punctuation">,</span> <span class="token comment">// å¯¹çˆ¶èŠ‚ç‚¹çš„å¼•ç”¨</span>
  children<span class="token punctuation">,</span> <span class="token comment">// å­èŠ‚ç‚¹</span>
  props<span class="token punctuation">,</span>  <span class="token comment">// å½“ type === 'ELEMENT' æ—¶ï¼Œprops ä¸­å­˜å‚¨ç€å…ƒç´ çš„å±æ€§/ç‰¹æ€§</span>
  eventListeners<span class="token punctuation">,</span>  <span class="token comment">// å½“ type === 'ELEMENT' æ—¶ï¼ŒeventListeners ä¸­å­˜å‚¨ç€å…ƒç´ çš„äº‹ä»¶ä¿¡æ¯</span>
  text  <span class="token comment">// å½“ type === 'TEXT' æ—¶ï¼Œtext å­˜å‚¨ç€æ–‡æœ¬å†…å®¹</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç°åœ¨ <code>customElement</code> å°±æ˜¯ä¸€ä¸ªèƒ½å®Œå…¨ä»£æ›¿çœŸå® DOM å¯¹è±¡çš„æ¨¡æ‹Ÿå®ç°äº†ï¼Œæˆ‘ä»¬ç”¨å®ƒä¿®æ”¹ä¹‹å‰çš„ä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> customElement <span class="token operator">=</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> <span class="token string">'ELEMENT'</span><span class="token punctuation">,</span>
        tag<span class="token punctuation">,</span>
        parentNode<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        props<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        eventListeners<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        text<span class="token punctuation">:</span> <span class="token keyword">null</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> customElement
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œç”±äº <code>nodeOps.createElement</code> å‡½æ•°ç”¨äºåˆ›å»ºå…ƒç´ èŠ‚ç‚¹ï¼Œå› æ­¤ <code>type</code> å±æ€§çš„å€¼ä¸º <code>'ELEMENT'</code>ï¼›åˆšåˆšåˆ›å»ºçš„å…ƒç´ è¿˜ä¸èƒ½ç¡®å®šå…¶çˆ¶èŠ‚ç‚¹ï¼Œå› æ­¤ <code>parentNode</code> ä¸º <code>null</code>ï¼›ç”¨äºå­˜å‚¨å­èŠ‚ç‚¹çš„ <code>children</code> å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œ<code>props</code> å±æ€§å’Œ <code>eventListeners</code> è¢«åˆå§‹åŒ–ä¸ºç©ºå¯¹è±¡ï¼›æœ€åçš„ <code>text</code> ä¸º <code>null</code>ï¼Œå› ä¸ºå®ƒä¸æ˜¯ä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ã€‚</p> <p>ç°åœ¨åˆ›å»ºå…ƒç´ èŠ‚ç‚¹çš„åŠŸèƒ½å·²ç»å®ç°ï¼Œé‚£ä¹ˆåˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹å‘¢ï¼Ÿå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> customElement <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token comment">/* çœç•¥... */</span><span class="token punctuation">}</span>
      <span class="token keyword">return</span> customElement
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">createText</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> customElement <span class="token operator">=</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> <span class="token string">'TEXT'</span><span class="token punctuation">,</span>
        parentNode<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        text<span class="token punctuation">:</span> text
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> customElement
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>æ–‡æœ¬å…ƒç´ çš„ <code>type</code> ç±»å‹å€¼ä¸º <code>'TEXT'</code>ï¼Œ<code>parentNode</code> åŒæ ·è¢«åˆå§‹åŒ–ä¸º <code>unll</code>ï¼Œ<code>text</code> å±æ€§å­˜å‚¨ç€æ–‡æœ¬èŠ‚ç‚¹çš„å†…å®¹ã€‚ç”±äºæ–‡æœ¬å…ƒç´ æ²¡æœ‰å­èŠ‚ç‚¹ã€å±æ€§/ç‰¹æ€§ã€äº‹ä»¶ç­‰ä¿¡æ¯ï¼Œå› æ­¤ä¸éœ€è¦å…¶ä»–æè¿°ä¿¡æ¯ã€‚</p> <p>æ–‡æœ¬èŠ‚ç‚¹ä¸å…ƒç´ èŠ‚ç‚¹çš„åˆ›å»ºéƒ½å·²ç»å®ç°ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹å½“å…ƒç´ è¢«è¿½åŠ æ—¶åº”è¯¥å¦‚ä½•å¤„ç†ï¼Œå³ <code>nodeOps.appendChild</code> å‡½æ•°çš„å®ç°ï¼š</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> customElement <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token comment">/* çœç•¥... */</span><span class="token punctuation">}</span>
      <span class="token keyword">return</span> customElement
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">createText</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> customElement <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token comment">/* çœç•¥... */</span><span class="token punctuation">}</span>
      <span class="token keyword">return</span> customElement
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ç®€å†çˆ¶å­å…³ç³»</span>
      child<span class="token punctuation">.</span>parentNode <span class="token operator">=</span> parent
      parent<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å¦‚ä¸Šé«˜äº®ä»£ç æ‰€ç¤ºï¼Œè¿½åŠ èŠ‚ç‚¹æ—¶æˆ‘ä»¬è¦åšçš„å°±æ˜¯å»ºç«‹èŠ‚ç‚¹é—´æ­£ç¡®çš„çˆ¶å­å…³ç³»ï¼Œåœ¨ Web å¹³å°ä¸‹ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ <code>el.appendChild</code> å‡½æ•°æ—¶ï¼Œçˆ¶å­å…³ç³»æ˜¯ç”±æµè§ˆå™¨è´Ÿè´£å»ºç«‹çš„ï¼Œä½†åœ¨æ¨¡æ‹Ÿå®ç°ä¸­ï¼Œè¿™ä¸ªå…³ç³»éœ€è¦æˆ‘ä»¬è‡ªå·±æ¥ç»´æŠ¤ã€‚ä¸è¿‡å¥½åœ¨è¿™å¾ˆç®€å•ï¼Œè®©å­å…ƒç´ çš„ <code>parentNode</code> æŒ‡å‘çˆ¶å…ƒç´ ï¼ŒåŒæ—¶å°†å­å…ƒç´ æ·»åŠ åˆ°çˆ¶å…ƒç´ çš„ <code>children</code> æ•°ç»„ä¸­å³å¯ã€‚</p> <p>ç±»ä¼¼çš„ï¼Œå¦‚ä¸‹æ˜¯ <code>nodeOps.removeChild</code> å‡½æ•°çš„å®ç°ï¼š</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/* çœç•¥... */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">createText</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/* çœç•¥... */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ç®€å†çˆ¶å­å…³ç³»</span>
      child<span class="token punctuation">.</span>parentNode <span class="token operator">=</span> parent
      parent<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// æ‰¾åˆ°å°†è¦ç§»é™¤çš„å…ƒç´  child åœ¨çˆ¶å…ƒç´ çš„ children ä¸­çš„ä½ç½®</span>
      <span class="token keyword">const</span> i <span class="token operator">=</span> parent<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// å¦‚æœæ‰¾åˆ°äº†ï¼Œåˆ™å°†å…¶åˆ é™¤</span>
        parent<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ²¡æ‰¾åˆ°ï¼Œè¯´æ˜æ¸²æŸ“å™¨å‡ºäº†é—®é¢˜ï¼Œä¾‹å¦‚æ²¡æœ‰åœ¨ nodeOps.appendChild å‡½æ•°ä¸­ç»´æŠ¤æ­£ç¡®çš„çˆ¶å­å…³ç³»ç­‰</span>
        <span class="token comment">// è¿™æ—¶éœ€è¦æ‰“å°é”™è¯¯ä¿¡æ¯ï¼Œä»¥æç¤ºå¼€å‘è€…</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'target: '</span><span class="token punctuation">,</span> child<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'parent: '</span><span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'target ä¸æ˜¯ parent çš„å­èŠ‚ç‚¹'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// æ¸…ç©ºçˆ¶å­é“¾</span>
      child<span class="token punctuation">.</span>parentNode <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å¦‚ä¸Šé«˜äº®ä»£ç æ‰€ç¤ºï¼Œåœ¨ç§»é™¤èŠ‚ç‚¹æ—¶ï¼Œæ€è·¯ä¹Ÿå¾ˆç®€å•ï¼Œé¦–å…ˆéœ€è¦åœ¨çˆ¶èŠ‚ç‚¹çš„ <code>children</code> å±æ€§ä¸­æŸ¥æ‰¾å³å°†è¦è¢«ç§»é™¤çš„èŠ‚ç‚¹çš„ä½ç½®ç´¢å¼•ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œé‚£ä¹ˆå°±ç›´æ¥å°†å…¶ä»çˆ¶èŠ‚ç‚¹çš„ <code>children</code> æ•°ç»„ä¸­ç§»é™¤å³å¯ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™è¯´æ˜æ¸²æŸ“å™¨å‡ºé—®é¢˜äº†ï¼Œä¾‹å¦‚åœ¨ä½ å®ç°è‡ªå®šä¹‰æ¸²æŸ“å™¨æ—¶æ²¡æœ‰åœ¨ <code>nodeOps.appendChild</code> å‡½æ•°æˆ– <code>nodeOps.insertBefore</code> å‡½æ•°ä¸­ç»´æŠ¤æ­£ç¡®çš„çˆ¶å­å…³ç³»ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦æ‰“å°é”™è¯¯ä¿¡æ¯ä»¥æç¤ºå¼€å‘è€…ã€‚æœ€åä¸è¦å¿˜è®°æ¸…ç©ºçˆ¶å­é“¾ã€‚</p> <p>é€šè¿‡å¦‚ä¸Šçš„è®²è§£ï¼Œä½ å¯èƒ½å·²ç»é¢†ä¼šåˆ°äº†ï¼Œæˆ‘ä»¬æ‰€åšçš„å…¶å®å°±æ˜¯åœ¨æ¨¡æ‹Ÿ Web å¹³å°åœ¨æ“ä½œå…ƒç´ æ—¶çš„è¡Œä¸ºï¼Œå¹¶ä¸”è¿™ä¸ªæ¨¡æ‹Ÿçš„æ€è·¯ä¹ŸåŠå…¶ç®€å•ã€‚å®é™…ä¸Šï¼Œå½“æˆ‘ä»¬å®ç°äº†æ‰€æœ‰ <code>nodeOps</code> ä¸‹çš„æŠ½è±¡å‡½æ•°ä¹‹åï¼Œé‚£ä¹ˆè¿™ä¸ªç±»ä¼¼äº <code>@vue/runtime-test</code> çš„è‡ªå®šä¹‰æ¸²æŸ“å™¨å°±åŸºæœ¬å®Œæˆäº†ã€‚å½“ç„¶ï¼Œä¸è¦å¿˜è®°çš„æ˜¯æˆ‘ä»¬è¿˜éœ€è¦å®ç° <code>patchData</code> å‡½æ•°ï¼Œè¿™å¯èƒ½æ¯”ä½ æƒ³è±¡çš„è¦ç®€å•çš„å¤šï¼Œå¦‚ä¸‹é«˜äº®ä»£ç æ‰€ç¤ºï¼š</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/* çœç•¥... */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">createText</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/* çœç•¥... */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/* çœç•¥... */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/* çœç•¥... */</span><span class="token punctuation">}</span>
    <span class="token comment">// å…¶ä»– nodeOps å‡½æ•°çš„å®ç°</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">patchData</span><span class="token punctuation">(</span>
    <span class="token parameter">el<span class="token punctuation">,</span>
    key<span class="token punctuation">,</span>
    prevValue<span class="token punctuation">,</span>
    nextValue</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å°†å±æ€§æ·»åŠ åˆ°å…ƒç´ çš„ props å¯¹è±¡ä¸‹</span>
    el<span class="token punctuation">.</span>props<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> nextValue
    <span class="token comment">// æˆ‘ä»¬å°†å±æ€§åå­—ä¸­å‰ä¸¤ä¸ªå­—ç¬¦æ˜¯ 'o' å’Œ 'n' çš„å±æ€§è®¤ä¸ºæ˜¯äº‹ä»¶ç»‘å®š</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'o'</span> <span class="token operator">&amp;&amp;</span> key<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'n'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¦‚æœæ˜¯äº‹ä»¶ï¼Œåˆ™å°†äº‹ä»¶æ·»åŠ åˆ°å…ƒç´ çš„ eventListeners å¯¹è±¡ä¸‹</span>
      <span class="token keyword">const</span> event <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">;</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>eventListeners <span class="token operator">||</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>eventListeners <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span> <span class="token operator">=</span> nextValue
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>åœ¨åˆ›å»ºæ¸²æŸ“å™¨æ—¶æˆ‘ä»¬éœ€è¦å®ç° <code>patchData</code> å‡½æ•°çš„åŠŸèƒ½ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ç”¨æ¥æ›´æ–°å…ƒç´ è‡ªèº«çš„å±æ€§/ç‰¹æ€§çš„ï¼Œåœ¨ä¹‹å‰çš„è®²è§£ä¸­æˆ‘ä»¬å®ç°äº† Web å¹³å°ä¸­ <code>patchData</code> å‡½æ•°ï¼Œç„¶è€Œåœ¨è¿™ä¸ªæ¨¡æ‹Ÿå®ç°ä¸­ï¼Œæˆ‘ä»¬è¦åšçš„äº‹æƒ…å°±å°‘äº†å¾ˆå¤šã€‚åªéœ€è¦æŠŠå…ƒç´ çš„å±æ€§æ·»åŠ åˆ°å…ƒç´ çš„ <code>props</code> å¯¹è±¡ä¸­å³å¯ï¼ŒåŒæ—¶å¦‚æœæ˜¯äº‹ä»¶çš„è¯ï¼Œæˆ‘ä»¬ä¹Ÿåªéœ€è¦å°†å…¶æ·»åŠ åˆ°å…ƒç´ çš„ <code>eventListeners</code> å¯¹è±¡ä¸­å°±å¯ä»¥äº†ã€‚</p> <p>å®é™…ä¸Šï¼Œæœ¬èŠ‚æˆ‘ä»¬æ‰€å®ç°çš„è‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼Œå°±èƒ½å¤Ÿæ»¡è¶³æˆ‘ä»¬å¯¹ç»„ä»¶æµ‹è¯•çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒæ¥æµ‹è¯•ç»„ä»¶æ‰€æ¸²æŸ“å†…å®¹çš„æ­£ç¡®æ€§ã€‚å¦‚æœä½ æƒ³è¦è¿›ä¸€æ­¥æå‡è¯¥è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„èƒ½åŠ›ï¼Œä¾‹å¦‚å¸Œæœ›è¯¥æ¸²æŸ“å™¨æœ‰èƒ½åŠ›åœ¨æ§åˆ¶å°ä¸­æ‰“å°å‡ºæ“ä½œå…ƒç´ çš„ä¿¡æ¯ï¼Œä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬ä»¥åˆ›å»ºå…ƒç´ ä¸ºä¾‹ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> customElement <span class="token operator">=</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> <span class="token string">'ELEMENT'</span><span class="token punctuation">,</span>
        tag<span class="token punctuation">,</span>
        parentNode<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        props<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        eventListeners<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        text<span class="token punctuation">:</span> <span class="token keyword">null</span>
      <span class="token punctuation">}</span>

      console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> <span class="token string">'CREATE ELEMENT'</span><span class="token punctuation">,</span>
        targetNode<span class="token punctuation">:</span> customElement
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token keyword">return</span> customElement
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>åªéœ€è¦åœ¨ <code>nodeOps.createElement</code> å‡½æ•°ä¸­è°ƒç”¨ <code>console.table</code> è¿›è¡Œæ‰“å°ä½ æƒ³è¦çš„ä¿¡æ¯å³å¯ï¼Œä¾‹å¦‚æˆ‘ä»¬æ‰“å°äº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å« <code>type</code> å±æ€§ç”¨äºæŒ‡ç¤ºå½“å‰æ“ä½œå…ƒç´ çš„ç±»å‹ï¼Œæ‰€ä»¥å¯¹äºåˆ›å»ºå…ƒç´ æ¥è¯´ï¼Œæˆ‘ä»¬ä¸º <code>type</code> å±æ€§èµ‹å€¼äº†å­—ç¬¦ä¸² <code>'CREATE ELEMENT'</code>ï¼ŒåŒæ—¶å°†ç›®æ ‡èŠ‚ç‚¹ä¹Ÿæ‰“å°äº†å‡ºæ¥(å³ <code>targetNode</code>)ã€‚ç±»ä¼¼çš„ï¼Œè¿½åŠ èŠ‚ç‚¹å¯ä»¥æ‰“å°å¦‚ä¸‹ä¿¡æ¯ï¼š</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  nodeOps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/* çœç•¥... */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ç®€å†çˆ¶å­å…³ç³»</span>
      child<span class="token punctuation">.</span>parentNode <span class="token operator">=</span> parent
      parent<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>

      console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> <span class="token string">'APPEND'</span><span class="token punctuation">,</span>
        targetNode<span class="token punctuation">:</span> child<span class="token punctuation">,</span>
        parentNode<span class="token punctuation">:</span> parent
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ã€‚å½“ç„¶äº†è¿™åªæ˜¯è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„åº”ç”¨ä¹‹ä¸€ï¼Œå¯¹äºè‡ªå®šä¹‰æ¸²æŸ“å™¨æ¥è¯´ï¼Œå®ƒå¯å‘æŒ¥çš„ç©ºé—´è¿˜æ˜¯éå¸¸å¤§çš„ï¼Œä¸¾å‡ ä¸ªä¾‹å­ï¼š</p> <ul><li>æ¸²æŸ“åˆ° <code>PDF</code>ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªè‡ªå®šä¹‰æ¸²æŸ“å™¨å¦‚ <code>vue-pdf-renderer</code>ï¼Œå®ƒèƒ½å¤Ÿå°† <code>Vue</code> ç»„ä»¶æ¸²æŸ“ä¸º <code>PDF</code> æ–‡ä»¶ã€‚</li> <li>æ¸²æŸ“åˆ°æ–‡ä»¶ç³»ç»Ÿï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ª <code>vue-file-renderer</code>ï¼Œå®ƒå¯ä»¥æ ¹æ® <code>VNode</code> çš„ç»“æ„åœ¨æœ¬åœ°æ¸²æŸ“ä¸è¯¥ç»“æ„ç›¸åŒçš„æ–‡ä»¶ç›®å½•ã€‚</li> <li><code>canvas</code> æ¸²æŸ“å™¨ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ª <code>vue-canvas-renderer</code>ï¼Œå®ƒå¯ä»¥ä»æ¸²æŸ“å™¨çš„å±‚é¢æ¸²æŸ“ <code>canvas</code>ï¼Œè€Œéç»„ä»¶å±‚é¢ã€‚</li></ul> <p>ä»¥ä¸Šä»…ä»…æ˜¯ç®€å•çš„åˆ—äº†å‡ ä¸ªå°æƒ³æ³•ï¼Œå®é™…ä¸Šç”±äºè‡ªå®šä¹‰æ¸²æŸ“å™¨æœ¬èº«å°±æ˜¯å¹³å°æ— å…³çš„ï¼Œå¾ˆå¤šäº‹æƒ…éœ€è¦çœ‹ç‰¹å®šå¹³å°çš„èƒ½åŠ›ï¼Œæ¸²æŸ“å™¨ä¸ºä½ æä¾›çš„å°±æ˜¯åœ¨ç»„ä»¶å±‚é¢çš„æŠ½è±¡èƒ½åŠ›ä»¥åŠè™šæ‹Ÿ DOM çš„æ›´æ–°ç®—æ³•ï¼Œå‰©ä¸‹çš„å°±é ç¤¾åŒºçš„æƒ³è±¡åŠ›å’Œå®ç°èƒ½åŠ›äº†ã€‚</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>å®Œæ•´ä»£ç &amp;åœ¨çº¿ä½“éªŒåœ°å€ï¼š<a href="https://codesandbox.io/s/v39py7lxq5" target="_blank" rel="noopener noreferrer">https://codesandbox.io/s/v39py7lxq5<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <ul><li><a href="https://www.youtube.com/watch?reload=9&amp;v=cCOL7MC4Pl0&amp;feature=youtu.be" target="_blank" rel="noopener noreferrer">Jake Archibald: In The Loop - JSConf.Asia 2018<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://stackoverflow.com/questions/25915634/difference-between-microtask-and-macrotask-within-an-event-loop-context" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/25915634/difference-between-microtask-and-macrotask-within-an-event-loop-context<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://html.spec.whatwg.org/#event-loop-processing-model" target="_blank" rel="noopener noreferrer">https://html.spec.whatwg.org/#event-loop-processing-model<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <!---->  </div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/principle-docs/vue/05-è¾…åŠ©åˆ›å»º VNode çš„ h å‡½æ•°.html" class="prev">è¾…åŠ©åˆ›å»º VNode çš„ h å‡½æ•°</a></span> <span class="next"><a href="/principle-docs/vue/07-æ¸²æŸ“å™¨ä¹‹æŒ‚è½½.html">æ¸²æŸ“å™¨ä¹‹æŒ‚è½½</a>
      â†’
    </span></p></div>  <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="è¯·å…ˆé˜…è¯»è´­ä¹°åè®®" class="el-dialog el-dialog--center" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title">è¯·å…ˆé˜…è¯»è´­ä¹°åè®®</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><div class="el-dialog__footer"><span class="dialog-footer"><button disabled="disabled" type="button" class="el-button el-button--danger is-disabled" style="width:100%;"><!----><!----><span>æˆ‘å·²é˜…è¯»ï¼ˆ8sï¼‰</span></button></span></div></div></div> <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="ä»˜è´¹é˜…è¯»" class="el-dialog" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title">ä»˜è´¹é˜…è¯»</span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><div class="el-dialog__footer"><span class="dialog-footer"><button disabled="disabled" type="button" class="el-button el-button--danger is-disabled" style="width:100%;"><!----><!----><span>ç¡® å®š</span></button></span></div></div></div> <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="dialog" class="el-dialog" style="margin-top:15vh;width:30%;"><div class="el-dialog__header"><span class="el-dialog__title"></span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><!----></div></div> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAU9ElEQVR4Xu1da5Ac1XX+TnfPa1crrQQiMY9YGGHAD6SdEWUjIdjVPiQgNhJa4VRBAgSIXZRRodgJOPED7DiACxts4yoHu0BKVaiYnVkJAkKPfQkBDgnSSmUIhKeEISSW0AO0O6/ue1K3R/uY2Xl0z3TPY3fuH6l2zj3n3HO+vn373nPPIdSbZQtEfnb4BmbxPRAtADAkDN5wzYbT9llmUIWEVIU6VaVKmx84usBQ9XcylBvqXj+/rSoVtqhUHQAWDdXz80OtxBjMJO9eP7+mbVjTylv0nSNkOQBwsHv9fPk6qNlW9QDg4e6rIHCEQuHdlbZyz08PbSHCVWN6EOjGtetP3VhpvUqRX5UA4Dcu9+GjxhsAbADhPAhxOi3p/aCUgTrVV84EkpemawfWbJh7wCm+leJTVQDgV9ecgqiyHky3gnCqaRTGHgqFl1TKQNNdblUAgPevOw8GfxOM60DwZxj9uxQM/2C6O6JS46soAHh4dTOE+iMQbgYouy4aXUgX9vyuUgaa7nIrBgDe030jAOn81FSftfEBCkbOnu5OqOT4yg4A3rvuM4D4FUBLCw6c8SCFwhsK0tUJirZAWQHAe6++F1DusK6tuIyCvc9ap69T2rVAWQBgru5Hlc0gWm5DQYGWsIcIwkafOqlNC7gOAN67ZhGgPAXQmbZ0Y36ZQpHP2+pTJ7ZtAVcBwHuv/nOA5PveZ1sz8GMUjFxrv1+9hx0LuAIA5lYNe0/9KQi32lEmg/ZOCobvK6F/vasFCzgOgJTz524Dqe0W5OcmIb6SWiJbS+JR71zQAo4CgN9p9esfND6v+QPBgpILEajiLFrU+14hsvrvpVnAMQDIA5zE+/yKd3bjOUCpbPkYBSNzSxtavbcVC5TqKVOGfPLjB72ve2fNOosUxYrcQjT7KBhuKURU/710C5QMAH7h4kAsNusdb2PgjxSPt3SNUhy2UTB8uVPM6nzyLLVKMQ4z1Nhg50HV6znD09BQCquMvryJghEZD1BvLlugpBkgvqvrtyz4i745cxxWU9xHwd47HWZaZ5fFAkUDIL571T1GPHlnoHkO4Mx7f0I9xt9TKPyPdY+5b4GiABAb6vqSSOhPepsaofqK2OQrPK5vUjD848JkxVPw3rUylu8qgJrBvBGKsYFathwrnmNt9rQNgNHdy/4Ecf9biqJqvubZbo16PQXDP3eLOe/pvh2EB9L4MzZQKPygWzKrla9tAEQHOt5nQ5zumzMbiqa5My7G1ygU/id3mAOpp5+uz+D/BAXDq92SWS18j3bf3AoiRjJ5cO6WjQdsASC2q+uXIqF/VfV64G1qcnNM7s4Ae7uHAFyWMYBdFAybEb/TtX247qZ9AC0aGx8LXmMZAMnnu1YkR/R+2dk/bw5IUd2zE+FvqCV8v1sCeAYCQD75gqbcbNpnGQCxgc4TwjAaNb8PnsZGt3yT4sv8bQpFfuiWkJkIgMNrb1pNCm3OsOlxSwCID3U+YiQNGcSJwLxmgBzZ7s3jX/EDCvZ+tw4A5yxwdN0tiwV4eDJHZjxREAD87PJPROOe9wFQWZ7+1BTwEAUjtzk3/HROM3EGkBY4vO4vbyCmu0D0Sel8leiuggCIDXXuFknjEvPd3zwHpLr47p/wUy8Fw2udAEBiR+tiHSTjEccvcfpmN0HxeNLYi2QS8Y8+nvgb8wENvMbbNeTY/f/L73vrdgJ/D0AzM4ZIUTds/duzHeNfjL3yAiCxe+UiPZY0FZSffPLTryyN+UUKRb7ohKzRnW1bABq/0Cl5WgJAai1yoKFr0JF7CavueWeBohhp+QUkCJ65c2FF8wvkBUBssOtVoevnS1t4Gxuh+l3Z9cvm5/cpGLYXRJoDLaM7V3DmT5YBAKChc6DgLGkFqKvueaNVUWhKfoGtdyx0hL8VHbLR5BSe3L2yIxlN7hyL7QicIuMzyqirFp1HFz59tNiBjfUb2dG2j2ji29fODMDA8cbOgeZSdZD9cwDg4NY7FlY0v0BOj8YGut4Uhn6OVF7u93tnufzpl2llRaygxb1Tnhi7zhjpa11NrKR9/lidAYhxY6BrwLH7/1fc++YWTMovAIEbt35roWP87dpG0mcFQHxXxwVGwvivsZ+zGawYYbb6OLg3Hx1sXQAdE4vAufMeJEUZ3xEzX/dC7I8fPXL7uI4aDgTahhy//y9ngpQM7cC2b53tOH9bNs4FgNhg14DQdXNxIkO8/HMdmQXt6ca8kUIRc+/B6TZTPwMtrQF4sNUf1dURgM3dHk9jAJo/4LQPCvNjHqZQpPTo4iyS6gCYMMqUV0Di2ZU/1uPJvx4j8c91ed8/NxQSaAkH3LgbWAdAHgDEBjqOCkOk5nwiBOZVMDpbNT5Piza/XHi6sEdRB0AOACSfv7wrORrfPvZzGY5983uO+TYKRR6y597C1Ly3e0sqGiitTfvj4IJrgNhg13NC15eNEXoaAtACFXj/j2vKfRSMdBZ2qT0K3tN9FwhyS3ZymxEBIZmWSlsDRPvbR1nwuMd9c5qgaOl75vZMXSI1wwDTKbSk53iJnNK683B3KzKzfhLaqCUsA0VmVBsHQLyv/UKDef/E6BmBU06pvDFIXEstvY85rQgPr14AoaXuHij6RmrZUvFvcqfHaIXfBAAGOh8xjNSZv2kTTYXz8f5WVMqgYX6cQpGvFNGz3sWCBcYBEB3oeI8NccZYn/Kd/RfQknkUPmUufa4nYWE8dRKbFjABwC+FGqJH5oxM3hg2Y/69ZTv9y682G5dTaPM2m2Ork1uwgAmAxLMrb9HjyYcn05cx+MOCmvwIBSM3WSCsk9i0gAmA+K6VTxiJ5Jcn9y378W8hxUV8Pi35t8OFyOq/27OACYDYYMebQhfm0a/ZSAZ/zrPHyW1qxt0UCt/ltpiZxt8EQOb3P2kq/I7f+C3ZtEfQNHI6nftMvGROdQYTz7pM8BAdCYxOtoni1eBrKlP8nx1nsPgqhXrT1ip2utc6rRngSsr1AC8G85aAB5uobaikC60U7busjVkdmGwc1eeFd9as6rMX89sIRhYSYUqcX/Up66xGPNjaPKrTOyRvM59szLypsWuwpEQaFBvsvF/oxjcmq6v5vfA0ViEApJKML1Eo/JSz5q1+btGdra0MJS1EjsHHGjsHSzqupdhQ13aR1LvSABDww9mUL44aeEae2mUDgLRqqVHLcgYYFrqxuIYAIOP1V1EoMn5s7Si8qpSZawCIDnS+zYaRdvnB0+CHFnAy6ZPTVuX3MF/5NJ3VE3Was1V+rcObmwPMZmBplGj/UMuakhZjheS6CICO/2NDnDZZgeoHgLkY+AkFI2lrl0JGdOr3VcObFzDEMAHmgoyBYwSlZVvLGtdOFN0DQH/7xyw4bcWnVfcaIOVHGSugGYvdCBkrBJRVwxG5IZUZUHL3tpa1rm1UuQaA0Z0rkjJIvWa+AiYrytiDIH2BqMco5DQnf181HJ6SYobBT2xv6XYsxYwZrwDtejDMewRscDMLPW2tJv+ueDwTQSzMx6BgE7VEZMibpUajO1Zw5vUQ1euFt6lKPwMzh+XgBRJLFgOwcjhyOyE9yRQDG7a3rHUkyZRZTY214q/FkX621QAXynZ5suLBoFY9kXoXxKEpF5W7tNzK4fCDxGQ+8Uy8ZXtL98StIlv6TyXm4atvACuPFs3GxrkJje5s48wbYopHg292FW4F57II410wXeh07GDRDiixIw+vXQ2eks7FOlcbs6KcAeT7My3nS9WEg1kfslwU7qBQeKWdLtVMy3u6j4FQXA5eO6+AaF97gpnTQ38VQmBuSTuMFbItf5+CkczVeYV0KU1sqqqqGbRqfmoKXV8gksnM3IYybP/ulCSWyZuOQaEt1NJjOesIRfvaTzDzlLvf5o2gHNVcSxuam72ZAe6iYG+fm1Iqwdu9z8D+9sMQPCX+2zd7FhzM/18+mzGOg/UQLdnyVvmEui/JNQBE+9rfZeazMofgaWyA5s8s5O3+QJ2RwAeg8vLpVHPINQDEBjr2CENMuYat+XzwlDsriDPeP8lleoHATQBEhCGuzrR9zX0KZgXP9AGBawCIDnX+kJPG3021HyEVGVzrbXqAQKa5YV1JSzMH5l0NXYMlJbim+K6Oa4yE+E02N9fsQnDKYKYHCDJzHjKJNY0dQ5b3/bP5mLIi6ySlvBour4hPi8b8FthYWetfB9JfwsDiBhVDpQaESr+aYeHZTgTl32tyRzAfWhkfAbh2JsYU5jLLyXsBHa+zEOdOJeLUBZGa2xDKiwJ59nEvWsLfdiP/UK3NlqmrYf2djxrCyBpeLBNEulQYqrK2YgygwbiGLtj8YWUVqaz01NWwXW1XiAQ9nU2Vqr0j4Ijd+D2wsppCPXscYVeDTFLXw+XtoBOB0ax5QyudKcxtozKSINyPuYe/T2cPxdwWV238xxNEjPa3H4LgU7MpOG1fA5MHy/x7ALfMtHDzcQDEBjufErpxZTYATLuvgfxfCptBia9T8Mn/qban1Q19xgGQ3N3RmoyJnNm5qythhBumSOMps6XchcX0QLkDTl0fWYaA9DRxfR0nmEXWvPC1fzhUjGn5VRDuo5bIpmJ610KfNADEdnVtEQk9M4NmahwyaYSMEppWewKWXSRfBz+DoF9Ol7jDsZGnASAxdNlFelL9j1xm8QQC0KbL1rBl36cRngD4kdStpN6DxbGorl5TsoVH+zqOM4scIcEyefScMtQNrC4jZdWGeTcIYajiX2nR5j9Uu8b8yrp5iOmLKbQ5LRfEFADEBzo2GYb4i1wDmplrgbzuFQA/B0YPNPF4NYGB9375dMAry+9dDcZyKPgatYR/PXk0UwDA25eeFlX8/5uvQpSsICIridRbNgvwswAiUNBPiyOvlNNGvH/NadDVS0AsE34vB+iicfmMwxQKz8/UJ2vNoOhg57+zbnwhl/LTe3vYUZfJyiv7wPSfIAxDNfY6cZmVX143C0kshOBPQcGnwCxD+pYC9Mmc2ueox5y9aFRf+2cMFq/kKxPnb54NUtPulDpquWnLjBEDZFJuOg5CDMwxEKIATfyfKQ7CLMAM128EqBEydJ9oLpjPAZG9LN5Spp/OoM/2HLE0A0iiWH/ny0IYn83liKrNJDZtkVPCwJh/QaHI17NxyFk3MLq7o5Xz7AxKZhWvJ1CCTWZQVwGVFtKinvR4wpMGyFsKNNrf8QYLsTCXsVIl5eT1tTJWFJ1BnnNmqByhYKQ7pw/zCUnsbgvpUXopn3/rC0Jn3OQKF2YdmvI5WtTz30UBQHaKDna9wLp+cT4Fqyq1vCuWrFmm/0DB8HfyaV9w7rayLyAF1PcGqgwkzG9TKDKRADyHegUBYH4RDLb/Suh8c14kqSrkp2F9PVAlQLBYBMsSAE6Wk/0Q4LzJA6umzEyV+KByavBjFIxca0W+JQBIRqN9rd1gpacQU+/sWVA93kJk9d9dswAfQ0AstBrtbBkA5qugf0VECEy5SJo2FoKZX0jR6ruErvk4L2O+iYKRR6zKtgWA1KtAeRfAlEOFTBDIghOkqlb1qNM5YQHm31Ao8md2WNkCgGQc39VxgZEw5DlB/r5E8M+R5wV1ENhxSNG0zMOYPXqx3YoqtgFgrgcGO+6ELu4pqGwdBAVN5BDBIQixiJb0fmCXX1EAkEKi/Sv6WKC9oEATBE31k8OChiqSQOZMVmkpLe7JGcqX9/O9SLFmscnYseZhZv50YR4Ef3MdBIXtVAQF820UijxURE+zS9EzgOws69hEhfI7CJxZUIH666CgiWwTFLHoy5RREgBMEMgQMq3hNQhROJ8MEXxNjbWZfs62d9ztYCQTL6pJdNIlT35ciqSSAWAuCrdfehapnteY8+8UjimaCiyVm4qOiC9l/LXXl4FkLPqah/RltHT7lAgfuwNyzAOxXZeey7pnDwtusqKE/Dz0zW6qB5daMdZJGhYCydGRd71GPERtQ46U0XUMABOvg8B+CP5jq+OSdQlkfYJ6y28BI5FEcnT0iF/TzqdLnznklL0cBYAJgueWNcXi/t+y4JzxhJnKyzL13qb6KyGrU1kgcWIUwjA+9FPyfKee/DFZjgNgjHG0r2OQWVjOYSfDy+S6oH6QNAEDoSeR+HgEikd73XfptvOceuon83ENAMyg6ED74xCcMx4t24DkIZJMSDGzt5AZyZFR6NE4tAbfv3gveeY6N5wveboGgDGFYwPt64WOn4DY1qGAGWvY0ADMsBtIRjyO5GgUzGxoAc/N3mXbNrrl/LIAQAqJ7bj0XKF4BsF8ht3BmCXsAoGCZ092+VYbvZFMIDkSBRsGSFMPKz5a7lu64zW39XR9BhgbAL8U8sQ+mvsoG8a1ticeuT5oCEDuH0y3ZiTkEx8zHS+b6vf2+pZvkxc6y9LKBoCx0cQH2q4SQn2MWdivTaso0Lxes44BqTV8OZUF9HjCnOohi5yksrIeU31qt2fptv6yeP6kkLIDQMqVgSUJ8vyzkTTWFTtYuUiUMYiaz1sz+QrkRo4+GoUej08aNrPi8f7a37r9r4q1RSn9KgKAMYUTz3cuFnH0CMPIefuo8ODYPFuQYDA/ISs6oqnayk85I6FDJBMQ+uQCpwzyaC/5VV5Ly/tklFVFWlWYKz60ap1hJB6GSFXIKqXJz0jF44HqUaFonjIvHhkiqZuOFskkjKSeKi2d0RSP9nvVo13nWbZV5hKoaKsKAIxZIDbQtV6w8Z1cCSuLsZR8VaiaCsXrMQNVSbH1NZpHJMvdObB0tq6bzh5byOXqRKp2SPVpd3iXbS2+KmgxRsjTp6oAMKZnfLDrK8x0nzCSuRMelGQIAilkzg4kQxvH/5X/VfLMGpxyuHS8EJY1UDR1P0Hc5WvrL6m4g2WBNgirEgDja4QXr1giRo17ha4vB7imToyIKK54tIiXlNudPLyx4VtLpFUNgMkjiO1u/1MY2jfkRVVmrsoNAVLUjxRVeUFV+Rfa8h1PWfJAhYlqBgBjdpJnDImhrquY+FaRFMsKXVdz2b5Mmvo+KbQVuv4jf/tAzRWrrDkAZDpUbjMzeS+GSlcCfBELcSYY6bWQHUIBESVIUQ4pqvqaIPG0L4qHaeWOEYfYV4RNzQMgm9VknGJc84dIURaBcYEgkpm0PsECTTI2Fcw+BlQwT76/ppNCMXmISQqNEHACjD8A/CYxDXlZ7KCO/mlXXeT/AQOtWhTnoNDfAAAAAElFTkSuQmCC" class="theme-float-btn"></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.f60bfc341.js" defer></script><script src="/assets/js/6.7f8a8777.js" defer></script><script src="/assets/js/3.9d86cf58.js" defer></script><script src="/assets/js/106.4ce7d3b7.js" defer></script><script src="/assets/js/11.fb060006.js" defer></script>
  </body>
</html>
